{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { GET_COMMUNITY_FAILURE, GET_COMMUNITY_REQUEST, GET_COMMUNITY_SUCCESS, GET_COMMUNITY_POSTS_FAILURE, GET_COMMUNITY_POSTS_REQUEST, GET_COMMUNITY_POSTS_SUCCESS } from './actions';\nimport { CLEAR_COMMUNITY } from '../commonActions';\nimport { handleNonPaginatedResult } from '../home/reducers';\nimport { DELETE_MODERATOR_SUCCESS } from '../posts/actions';\nvar initialState = {\n  pagedData: {\n    results: []\n  },\n  data: null,\n  error: null\n};\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\n  var _ref = arguments.length > 1 ? arguments[1] : undefined,\n      type = _ref.type,\n      payload = _ref.payload;\n\n  switch (type) {\n    case GET_COMMUNITY_REQUEST:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: ''\n      });\n\n    case GET_COMMUNITY_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        data: payload\n      });\n\n    case GET_COMMUNITY_FAILURE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: payload\n      });\n\n    case GET_COMMUNITY_POSTS_REQUEST:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: ''\n      });\n\n    case GET_COMMUNITY_POSTS_SUCCESS:\n      if (payload.isVoted) {\n        var results = handleNonPaginatedResult(state.pagedData.results, payload.results);\n        payload.results = results;\n        return _objectSpread(_objectSpread({}, state), {}, {\n          pagedData: payload\n        });\n      } else {\n        var prevPosts1 = state.pagedData.results;\n        var newPosts1 = prevPosts1.concat(payload.results);\n        payload.results = newPosts1;\n        return _objectSpread(_objectSpread({}, state), {}, {\n          pagedData: payload\n        });\n      }\n\n    case GET_COMMUNITY_POSTS_FAILURE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: payload\n      });\n\n    case DELETE_MODERATOR_SUCCESS:\n      var temp = _toConsumableArray(state.pagedData.results);\n\n      var newTemp = temp.filter(function (x) {\n        return x.id !== payload.deletedPost;\n      });\n      payload.results = newTemp;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        pagedData: payload\n      });\n\n    case CLEAR_COMMUNITY:\n      var newState = {\n        pagedData: {\n          results: []\n        },\n        data: null,\n        error: null\n      };\n      return _objectSpread({}, newState);\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["D:/repos/saalla-next.js/lib/community/selectedCommunityReducer.js"],"names":["GET_COMMUNITY_FAILURE","GET_COMMUNITY_REQUEST","GET_COMMUNITY_SUCCESS","GET_COMMUNITY_POSTS_FAILURE","GET_COMMUNITY_POSTS_REQUEST","GET_COMMUNITY_POSTS_SUCCESS","CLEAR_COMMUNITY","handleNonPaginatedResult","DELETE_MODERATOR_SUCCESS","initialState","pagedData","results","data","error","state","type","payload","isVoted","prevPosts1","newPosts1","concat","temp","newTemp","filter","x","id","deletedPost","newState"],"mappings":";;;;;;;AAAA,SACIA,qBADJ,EAC2BC,qBAD3B,EACkDC,qBADlD,EAEIC,2BAFJ,EAEiCC,2BAFjC,EAE8DC,2BAF9D,QAGO,WAHP;AAIA,SAASC,eAAT,QAAgC,kBAAhC;AACA,SAASC,wBAAT,QAAyC,kBAAzC;AACA,SAASC,wBAAT,QAAyC,kBAAzC;AAEA,IAAMC,YAAY,GAAG;AACjBC,EAAAA,SAAS,EAAE;AAAEC,IAAAA,OAAO,EAAE;AAAX,GADM;AAEjBC,EAAAA,IAAI,EAAE,IAFW;AAGjBC,EAAAA,KAAK,EAAE;AAHU,CAArB;AAMA,eAAe,YAAmD;AAAA,MAAzCC,KAAyC,uEAAjCL,YAAiC;;AAAA;AAAA,MAAjBM,IAAiB,QAAjBA,IAAiB;AAAA,MAAXC,OAAW,QAAXA,OAAW;;AAC9D,UAAQD,IAAR;AACI,SAAKd,qBAAL;AACI,6CAAYa,KAAZ;AAAmBD,QAAAA,KAAK,EAAE;AAA1B;;AACJ,SAAKX,qBAAL;AACI,6CAAYY,KAAZ;AAAmBF,QAAAA,IAAI,EAAEI;AAAzB;;AACJ,SAAKhB,qBAAL;AACI,6CAAYc,KAAZ;AAAmBD,QAAAA,KAAK,EAAEG;AAA1B;;AACJ,SAAKZ,2BAAL;AACI,6CAAYU,KAAZ;AAAmBD,QAAAA,KAAK,EAAE;AAA1B;;AACJ,SAAKR,2BAAL;AACI,UAAIW,OAAO,CAACC,OAAZ,EAAqB;AACjB,YAAMN,OAAO,GAAGJ,wBAAwB,CAACO,KAAK,CAACJ,SAAN,CAAgBC,OAAjB,EAA0BK,OAAO,CAACL,OAAlC,CAAxC;AACAK,QAAAA,OAAO,CAACL,OAAR,GAAkBA,OAAlB;AACA,+CAAYG,KAAZ;AAAmBJ,UAAAA,SAAS,EAAEM;AAA9B;AACH,OAJD,MAIO;AACH,YAAME,UAAU,GAAGJ,KAAK,CAACJ,SAAN,CAAgBC,OAAnC;AACA,YAAMQ,SAAS,GAAGD,UAAU,CAACE,MAAX,CAAkBJ,OAAO,CAACL,OAA1B,CAAlB;AACAK,QAAAA,OAAO,CAACL,OAAR,GAAkBQ,SAAlB;AACA,+CAAYL,KAAZ;AAAmBJ,UAAAA,SAAS,EAAEM;AAA9B;AACH;;AACL,SAAKb,2BAAL;AACI,6CAAYW,KAAZ;AAAmBD,QAAAA,KAAK,EAAEG;AAA1B;;AACJ,SAAKR,wBAAL;AACI,UAAMa,IAAI,sBAAOP,KAAK,CAACJ,SAAN,CAAgBC,OAAvB,CAAV;;AACA,UAAMW,OAAO,GAAGD,IAAI,CAACE,MAAL,CAAY,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,EAAF,KAAST,OAAO,CAACU,WAArB;AAAA,OAAb,CAAhB;AACAV,MAAAA,OAAO,CAACL,OAAR,GAAkBW,OAAlB;AACA,6CAAYR,KAAZ;AAAmBJ,QAAAA,SAAS,EAAEM;AAA9B;;AACJ,SAAKV,eAAL;AACI,UAAMqB,QAAQ,GAAG;AACbjB,QAAAA,SAAS,EAAE;AAAEC,UAAAA,OAAO,EAAE;AAAX,SADE;AAEbC,QAAAA,IAAI,EAAE,IAFO;AAGbC,QAAAA,KAAK,EAAE;AAHM,OAAjB;AAKA,+BAAYc,QAAZ;;AACJ;AACI,aAAOb,KAAP;AAnCR;AAqCH","sourcesContent":["import {\r\n    GET_COMMUNITY_FAILURE, GET_COMMUNITY_REQUEST, GET_COMMUNITY_SUCCESS,\r\n    GET_COMMUNITY_POSTS_FAILURE, GET_COMMUNITY_POSTS_REQUEST, GET_COMMUNITY_POSTS_SUCCESS\r\n} from './actions';\r\nimport { CLEAR_COMMUNITY } from '../commonActions';\r\nimport { handleNonPaginatedResult } from '../home/reducers';\r\nimport { DELETE_MODERATOR_SUCCESS } from '../posts/actions';\r\n\r\nconst initialState = {\r\n    pagedData: { results: [] },\r\n    data: null,\r\n    error: null,\r\n};\r\n\r\nexport default function (state = initialState, { type, payload }) {\r\n    switch (type) {\r\n        case GET_COMMUNITY_REQUEST:\r\n            return { ...state, error: '' };\r\n        case GET_COMMUNITY_SUCCESS:\r\n            return { ...state, data: payload };\r\n        case GET_COMMUNITY_FAILURE:\r\n            return { ...state, error: payload };\r\n        case GET_COMMUNITY_POSTS_REQUEST:\r\n            return { ...state, error: '' };\r\n        case GET_COMMUNITY_POSTS_SUCCESS:\r\n            if (payload.isVoted) {\r\n                const results = handleNonPaginatedResult(state.pagedData.results, payload.results);\r\n                payload.results = results;\r\n                return { ...state, pagedData: payload };\r\n            } else {\r\n                const prevPosts1 = state.pagedData.results;\r\n                const newPosts1 = prevPosts1.concat(payload.results);\r\n                payload.results = newPosts1;\r\n                return { ...state, pagedData: payload };\r\n            }\r\n        case GET_COMMUNITY_POSTS_FAILURE:\r\n            return { ...state, error: payload };\r\n        case DELETE_MODERATOR_SUCCESS:\r\n            const temp = [...state.pagedData.results];\r\n            const newTemp = temp.filter(x => x.id !== payload.deletedPost)\r\n            payload.results = newTemp;\r\n            return { ...state, pagedData: payload }\r\n        case CLEAR_COMMUNITY:\r\n            const newState = {\r\n                pagedData: { results: [] },\r\n                data: null,\r\n                error: null,\r\n            }\r\n            return { ...newState };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}