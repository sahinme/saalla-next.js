{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\repos\\\\saalla-next.js\\\\components\\\\SocialCard\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ReactPlayer from \"react-player\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport moment from \"moment\";\nimport \"moment/locale/tr\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { Divider } from \"@material-ui/core\";\nimport { MDBIcon } from \"mdbreact\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport LinkPreview from \"../LinkPreview\";\nimport { readLocalStorage } from \"../../lib/helpers\";\nimport PostMenu from \"../postMenu\";\nimport { deletePostRequest, deleteModeratorRequest } from \"../../lib/posts/actions\";\nimport { connect } from \"react-redux\";\nimport DeleteCommentPop from \"../CommentList/components/deleteCommentPop\";\nimport ImageModal from \"../ImageModal\";\nimport ShareButton from \"../ShareButton\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: \"flex\"\n    },\n    media: {\n      height: 0,\n      paddingTop: \"56.25%\",\n      // 16:9\n      backgroundSize: \"contain\"\n    },\n    expand: {\n      transform: \"rotate(0deg)\",\n      marginLeft: \"auto\",\n      transition: theme.transitions.create(\"transform\", {\n        duration: theme.transitions.duration.shortest\n      })\n    },\n    expandOpen: {\n      transform: \"rotate(180deg)\"\n    },\n    postImage: {\n      borderRadius: \"20px\",\n      maxHeight: \"512px\",\n      maxWidth: \"100%\"\n    },\n    leftSide: {\n      width: \"48px\",\n      backgroundColor: \"#edebebcc\"\n    }\n  };\n});\n\nfunction SocialCard(props) {\n  _s();\n\n  var _this = this,\n      _jsx;\n\n  var classes = useStyles();\n  var router = useRouter();\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      anchorEl = _React$useState2[0],\n      setAnchorEl = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      popupAnchor = _React$useState4[0],\n      setPopupAnchor = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      isOpen = _React$useState6[0],\n      setOpen = _React$useState6[1];\n\n  moment.locale();\n  var id = props.id,\n      img = props.img,\n      createdDate = props.createdDate,\n      content = props.content,\n      pSlug = props.pSlug,\n      contentType = props.contentType,\n      community = props.community,\n      comments = props.comments,\n      user = props.user,\n      linkUrl = props.linkUrl,\n      voteCount = props.voteCount,\n      userPostVote = props.userPostVote,\n      onVote = props.onVote,\n      profilePosts = props.profilePosts,\n      isModerator = props.isModerator,\n      auth = props.auth,\n      pageNumber = props.pageNumber;\n\n  var handleVote = function handleVote(value) {\n    var values = {\n      postId: id,\n      value: value,\n      pageNumber: pageNumber\n    };\n    onVote(values);\n  };\n\n  var renderMedia = function renderMedia() {\n    if (contentType == 50) {\n      return __jsx(\"div\", {\n        className: \"linkPreview_container\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }\n      }, __jsx(LinkPreview, {\n        url: linkUrl,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }));\n    }\n\n    if (contentType == 20) {\n      return __jsx(\"div\", {\n        className: \"player-wrapper\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }\n      }, __jsx(ReactPlayer, {\n        className: \"react-player\",\n        controls: true,\n        url: img,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }\n      }));\n    } else {\n      return __jsx(\"div\", {\n        className: \"imgContainer\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }\n      }, __jsx(\"img\", {\n        onClick: function onClick() {\n          return setOpen(true);\n        },\n        className: classes.postImage,\n        src: img,\n        alt: \"\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }\n      }), isOpen && __jsx(ImageModal, {\n        imageUrl: img,\n        onClose: function onClose() {\n          return setOpen(false);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }));\n    }\n  };\n\n  var handleClick = function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  };\n\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n\n  var handleClosePopup = function handleClosePopup() {\n    setPopupAnchor(null);\n  };\n\n  var onDeleteClick = function onDeleteClick(event) {\n    setPopupAnchor(event.currentTarget);\n  };\n\n  var onDeletePost = function onDeletePost() {\n    var deletePost = props.deletePost;\n    deletePost({\n      id: id\n    });\n    setPopupAnchor(false);\n  };\n\n  var onDeleteModerator = function onDeleteModerator() {\n    var moderatorDelete = props.moderatorDelete,\n        pageDto = props.pageDto;\n    var payload = {\n      slug: community.slug,\n      postId: id,\n      pageNumber: pageDto.pageNumber,\n      pageSize: pageDto.pageSize\n    };\n    moderatorDelete(payload);\n    setPopupAnchor(null);\n    setAnchorEl(null);\n  };\n\n  var menuItems = [!profilePosts && {\n    title: \"Şikayet Et\",\n    onClick: handleClose\n  }, profilePosts ? {\n    title: \"Sil\",\n    onClick: onDeleteClick\n  } : null];\n  var moderatorItems = [{\n    title: \"Şikayet Et\",\n    onClick: handleClose\n  }, {\n    title: \"Sil\",\n    onClick: onDeleteClick\n  }];\n\n  var calculateSallamaCount = function calculateSallamaCount(comments) {\n    var count = 0;\n\n    if (comments && comments.length > 0) {\n      comments.map(function (x) {\n        return count += x.replyCount;\n      });\n      count += comments.length;\n    }\n\n    return count;\n  };\n\n  return __jsx(Card, {\n    className: \"post_card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: classes.leftSide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"vote_cont\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, __jsx(MDBIcon, {\n    className: userPostVote && userPostVote.value == 1 ? \"angle-double-up_checked\" : \"angle-double-up\",\n    icon: \"angle-double-up\",\n    onClick: function onClick() {\n      var token = readLocalStorage(\"token\");\n      token ? handleVote(userPostVote && userPostVote.value == 1 ? 0 : 1) : router.push(\"/giris-yap\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }), __jsx(\"p\", {\n    className: \"vote\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }\n  }, voteCount), __jsx(MDBIcon, {\n    className: userPostVote && userPostVote.value == -1 ? \"angle-double-down_checked\" : \"angle-double-down\",\n    icon: \"angle-double-down\",\n    onClick: function onClick() {\n      return handleVote(userPostVote && userPostVote.value == -1 ? 0 : -1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      width: \"100%\",\n      overflow: \"hidden\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }\n  }, __jsx(CardHeader, {\n    className: \"post_card_header\",\n    style: {\n      padding: \"16px 16px 0 16px\"\n    },\n    avatar: !id ? __jsx(Skeleton, {\n      animation: \"wave\",\n      variant: \"circle\",\n      width: 40,\n      height: 40,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 15\n      }\n    }) : __jsx(Avatar, {\n      \"aria-label\": \"recipe\",\n      src: community.logoPath,\n      className: classes.avatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 15\n      }\n    }),\n    action: __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }\n    }, __jsx(IconButton, {\n      \"aria-controls\": \"simple-menu\",\n      \"aria-haspopup\": \"true\",\n      onClick: handleClick,\n      \"aria-label\": \"settings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 15\n      }\n    }, __jsx(MoreVertIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }\n    })), __jsx(PostMenu, (_jsx = {\n      open: Boolean(anchorEl),\n      onClose: handleClose,\n      anchorEl: anchorEl\n    }, _defineProperty(_jsx, \"onClose\", handleClose), _defineProperty(_jsx, \"menuItems\", isModerator ? moderatorItems : menuItems), _defineProperty(_jsx, \"__self\", this), _defineProperty(_jsx, \"__source\", {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 15\n    }), _jsx)), __jsx(DeleteCommentPop, {\n      onSubmit: isModerator ? onDeleteModerator : onDeletePost,\n      onClose: handleClosePopup,\n      anchorEl: popupAnchor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 15\n      }\n    })),\n    title: !id ? __jsx(Skeleton, {\n      animation: \"wave\",\n      height: 10,\n      width: \"80%\",\n      style: {\n        marginBottom: 6\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 15\n      }\n    }) : __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 15\n      }\n    }, __jsx(Link, {\n      href: \"/t/[community]\",\n      as: \"/t/\".concat(community.slug),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 19\n      }\n    }, community.name)), __jsx(\"small\", {\n      style: {\n        margin: \"4px\",\n        fontWeight: 600,\n        fontSize: \"92%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }\n    }, \"/\"), user && __jsx(Link, {\n      as: auth && auth.user && auth.user.username == user.userName ? \"/p/\".concat(user.userName) : \"u/\".concat(user.userName),\n      href: auth && auth.user && auth.user.username == user.userName ? \"/p/[username]\" : \"u/[username]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 19\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 21\n      }\n    }, __jsx(\"span\", {\n      className: \"posted_by\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 23\n      }\n    }, \"u/\" + user.userName + \" \" + \"tarafından\")))),\n    subheader: createdDate && moment(createdDate).fromNow(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }\n  }), __jsx(Link, {\n    as: \"/\".concat(community.slug, \"/\").concat(pSlug),\n    href: \"/[community]/[post]\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"content_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 11\n    }\n  }, __jsx(CardContent, {\n    className: \"post_content_area\",\n    style: {\n      padding: \"5px 16px 16px 25px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }\n  }, !id ? __jsx(Skeleton, {\n    animation: \"wave\",\n    variant: \"rect\",\n    className: classes.media,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 17\n    }\n  }) : __jsx(\"div\", {\n    className: \"card_post_content\",\n    dangerouslySetInnerHTML: {\n      __html: content\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 17\n    }\n  })), renderMedia())), __jsx(Divider, {\n    style: {\n      margin: \"15px 0px 0px 0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 9\n    }\n  }), __jsx(CardActions, {\n    style: {\n      padding: \"0px\",\n      paddingLeft: \"3.5rem\"\n    },\n    disableSpacing: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 9\n    }\n  }, __jsx(MDBIcon, {\n    style: {\n      margin: \"0.5rem\"\n    },\n    size: \"lg\",\n    far: true,\n    icon: \"comment-dots\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 11\n    }\n  }), __jsx(\"small\", {\n    style: {\n      marginLeft: \"-5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 11\n    }\n  }, comments && calculateSallamaCount(comments), \" sallama\"), __jsx(ShareButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 11\n    }\n  }))));\n}\n\n_s(SocialCard, \"3p69NZocPxbrYvI30EkJK5M0TQU=\", false, function () {\n  return [useStyles, useRouter];\n});\n\n_c = SocialCard;\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    deletePost: function deletePost(payload) {\n      return dispatch(deletePostRequest(payload));\n    },\n    moderatorDelete: function moderatorDelete(payload) {\n      return dispatch(deleteModeratorRequest(payload));\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth && state.auth.data\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SocialCard);\n\nvar _c;\n\n$RefreshReg$(_c, \"SocialCard\");","map":{"version":3,"sources":["D:/repos/saalla-next.js/components/SocialCard/index.jsx"],"names":["React","makeStyles","Card","CardHeader","CardContent","CardActions","Avatar","IconButton","ReactPlayer","MoreVertIcon","moment","Link","useRouter","Divider","MDBIcon","Skeleton","LinkPreview","readLocalStorage","PostMenu","deletePostRequest","deleteModeratorRequest","connect","DeleteCommentPop","ImageModal","ShareButton","useStyles","theme","root","display","media","height","paddingTop","backgroundSize","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","postImage","borderRadius","maxHeight","maxWidth","leftSide","width","backgroundColor","SocialCard","props","classes","router","useState","anchorEl","setAnchorEl","popupAnchor","setPopupAnchor","isOpen","setOpen","locale","id","img","createdDate","content","pSlug","contentType","community","comments","user","linkUrl","voteCount","userPostVote","onVote","profilePosts","isModerator","auth","pageNumber","handleVote","value","values","postId","renderMedia","handleClick","event","currentTarget","handleClose","handleClosePopup","onDeleteClick","onDeletePost","deletePost","onDeleteModerator","moderatorDelete","pageDto","payload","slug","pageSize","menuItems","title","onClick","moderatorItems","calculateSallamaCount","count","length","map","x","replyCount","token","push","overflow","padding","logoPath","avatar","Boolean","marginBottom","name","margin","fontWeight","fontSize","username","userName","fromNow","__html","paddingLeft","mapDispatchToProps","dispatch","mapStateToProps","state","data"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,kBAAP;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,OAAT,QAAwB,UAAxB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,SACEC,iBADF,EAEEC,sBAFF,QAGO,yBAHP;AAIA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,gBAAP,MAA6B,4CAA7B;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AAEA,IAAMC,SAAS,GAAGxB,UAAU,CAAC,UAACyB,KAAD;AAAA,SAAY;AACvCC,IAAAA,IAAI,EAAE;AACJC,MAAAA,OAAO,EAAE;AADL,KADiC;AAIvCC,IAAAA,KAAK,EAAE;AACLC,MAAAA,MAAM,EAAE,CADH;AAELC,MAAAA,UAAU,EAAE,QAFP;AAEiB;AACtBC,MAAAA,cAAc,EAAE;AAHX,KAJgC;AASvCC,IAAAA,MAAM,EAAE;AACNC,MAAAA,SAAS,EAAE,cADL;AAENC,MAAAA,UAAU,EAAE,MAFN;AAGNC,MAAAA,UAAU,EAAEV,KAAK,CAACW,WAAN,CAAkBC,MAAlB,CAAyB,WAAzB,EAAsC;AAChDC,QAAAA,QAAQ,EAAEb,KAAK,CAACW,WAAN,CAAkBE,QAAlB,CAA2BC;AADW,OAAtC;AAHN,KAT+B;AAgBvCC,IAAAA,UAAU,EAAE;AACVP,MAAAA,SAAS,EAAE;AADD,KAhB2B;AAmBvCQ,IAAAA,SAAS,EAAE;AACTC,MAAAA,YAAY,EAAE,MADL;AAETC,MAAAA,SAAS,EAAE,OAFF;AAGTC,MAAAA,QAAQ,EAAE;AAHD,KAnB4B;AAwBvCC,IAAAA,QAAQ,EAAE;AACRC,MAAAA,KAAK,EAAE,MADC;AAERC,MAAAA,eAAe,EAAE;AAFT;AAxB6B,GAAZ;AAAA,CAAD,CAA5B;;AA8BA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAAA;;AAAA;AAAA;;AACzB,MAAMC,OAAO,GAAG1B,SAAS,EAAzB;AACA,MAAM2B,MAAM,GAAGxC,SAAS,EAAxB;;AAFyB,wBAGOZ,KAAK,CAACqD,QAAN,CAAe,IAAf,CAHP;AAAA;AAAA,MAGlBC,QAHkB;AAAA,MAGRC,WAHQ;;AAAA,yBAIavD,KAAK,CAACqD,QAAN,CAAe,IAAf,CAJb;AAAA;AAAA,MAIlBG,WAJkB;AAAA,MAILC,cAJK;;AAAA,yBAKCzD,KAAK,CAACqD,QAAN,CAAe,KAAf,CALD;AAAA;AAAA,MAKlBK,MALkB;AAAA,MAKVC,OALU;;AAOzBjD,EAAAA,MAAM,CAACkD,MAAP;AAPyB,MAUvBC,EAVuB,GA2BrBX,KA3BqB,CAUvBW,EAVuB;AAAA,MAWvBC,GAXuB,GA2BrBZ,KA3BqB,CAWvBY,GAXuB;AAAA,MAYvBC,WAZuB,GA2BrBb,KA3BqB,CAYvBa,WAZuB;AAAA,MAavBC,OAbuB,GA2BrBd,KA3BqB,CAavBc,OAbuB;AAAA,MAcvBC,KAduB,GA2BrBf,KA3BqB,CAcvBe,KAduB;AAAA,MAevBC,WAfuB,GA2BrBhB,KA3BqB,CAevBgB,WAfuB;AAAA,MAgBvBC,SAhBuB,GA2BrBjB,KA3BqB,CAgBvBiB,SAhBuB;AAAA,MAiBvBC,QAjBuB,GA2BrBlB,KA3BqB,CAiBvBkB,QAjBuB;AAAA,MAkBvBC,IAlBuB,GA2BrBnB,KA3BqB,CAkBvBmB,IAlBuB;AAAA,MAmBvBC,OAnBuB,GA2BrBpB,KA3BqB,CAmBvBoB,OAnBuB;AAAA,MAoBvBC,SApBuB,GA2BrBrB,KA3BqB,CAoBvBqB,SApBuB;AAAA,MAqBvBC,YArBuB,GA2BrBtB,KA3BqB,CAqBvBsB,YArBuB;AAAA,MAsBvBC,MAtBuB,GA2BrBvB,KA3BqB,CAsBvBuB,MAtBuB;AAAA,MAuBvBC,YAvBuB,GA2BrBxB,KA3BqB,CAuBvBwB,YAvBuB;AAAA,MAwBvBC,WAxBuB,GA2BrBzB,KA3BqB,CAwBvByB,WAxBuB;AAAA,MAyBvBC,IAzBuB,GA2BrB1B,KA3BqB,CAyBvB0B,IAzBuB;AAAA,MA0BvBC,UA1BuB,GA2BrB3B,KA3BqB,CA0BvB2B,UA1BuB;;AA6BzB,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAC5B,QAAMC,MAAM,GAAG;AAAEC,MAAAA,MAAM,EAAEpB,EAAV;AAAckB,MAAAA,KAAK,EAALA,KAAd;AAAqBF,MAAAA,UAAU,EAAVA;AAArB,KAAf;AACAJ,IAAAA,MAAM,CAACO,MAAD,CAAN;AACD,GAHD;;AAKA,MAAME,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,QAAIhB,WAAW,IAAI,EAAnB,EAAuB;AACrB,aACE;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,WAAD;AAAa,QAAA,GAAG,EAAEI,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAKD;;AACD,QAAIJ,WAAW,IAAI,EAAnB,EAAuB;AACrB,aACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,WAAD;AAAa,QAAA,SAAS,EAAC,cAAvB;AAAsC,QAAA,QAAQ,MAA9C;AAA+C,QAAA,GAAG,EAAEJ,GAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAKD,KAND,MAMO;AACL,aACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,OAAO,EAAE;AAAA,iBAAMH,OAAO,CAAC,IAAD,CAAb;AAAA,SADX;AAEE,QAAA,SAAS,EAAER,OAAO,CAACT,SAFrB;AAGE,QAAA,GAAG,EAAEoB,GAHP;AAIE,QAAA,GAAG,EAAC,EAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAOGJ,MAAM,IACL,MAAC,UAAD;AAAY,QAAA,QAAQ,EAAEI,GAAtB;AAA2B,QAAA,OAAO,EAAE;AAAA,iBAAMH,OAAO,CAAC,KAAD,CAAb;AAAA,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARJ,CADF;AAaD;AACF,GA7BD;;AA+BA,MAAMwB,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAC7B7B,IAAAA,WAAW,CAAC6B,KAAK,CAACC,aAAP,CAAX;AACD,GAFD;;AAIA,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB/B,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD,GAFD;;AAIA,MAAMgC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B9B,IAAAA,cAAc,CAAC,IAAD,CAAd;AACD,GAFD;;AAIA,MAAM+B,aAAa,GAAG,SAAhBA,aAAgB,CAACJ,KAAD,EAAW;AAC/B3B,IAAAA,cAAc,CAAC2B,KAAK,CAACC,aAAP,CAAd;AACD,GAFD;;AAIA,MAAMI,YAAY,GAAG,SAAfA,YAAe,GAAM;AAAA,QACjBC,UADiB,GACFxC,KADE,CACjBwC,UADiB;AAEzBA,IAAAA,UAAU,CAAC;AAAE7B,MAAAA,EAAE,EAAFA;AAAF,KAAD,CAAV;AACAJ,IAAAA,cAAc,CAAC,KAAD,CAAd;AACD,GAJD;;AAMA,MAAMkC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAAA,QACtBC,eADsB,GACO1C,KADP,CACtB0C,eADsB;AAAA,QACLC,OADK,GACO3C,KADP,CACL2C,OADK;AAE9B,QAAMC,OAAO,GAAG;AACdC,MAAAA,IAAI,EAAE5B,SAAS,CAAC4B,IADF;AAEdd,MAAAA,MAAM,EAAEpB,EAFM;AAGdgB,MAAAA,UAAU,EAAEgB,OAAO,CAAChB,UAHN;AAIdmB,MAAAA,QAAQ,EAAEH,OAAO,CAACG;AAJJ,KAAhB;AAMAJ,IAAAA,eAAe,CAACE,OAAD,CAAf;AACArC,IAAAA,cAAc,CAAC,IAAD,CAAd;AACAF,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD,GAXD;;AAaA,MAAM0C,SAAS,GAAG,CAChB,CAACvB,YAAD,IAAiB;AAAEwB,IAAAA,KAAK,EAAE,YAAT;AAAuBC,IAAAA,OAAO,EAAEb;AAAhC,GADD,EAEhBZ,YAAY,GAAG;AAAEwB,IAAAA,KAAK,EAAE,KAAT;AAAgBC,IAAAA,OAAO,EAAEX;AAAzB,GAAH,GAA8C,IAF1C,CAAlB;AAKA,MAAMY,cAAc,GAAG,CACrB;AAAEF,IAAAA,KAAK,EAAE,YAAT;AAAuBC,IAAAA,OAAO,EAAEb;AAAhC,GADqB,EAErB;AAAEY,IAAAA,KAAK,EAAE,KAAT;AAAgBC,IAAAA,OAAO,EAAEX;AAAzB,GAFqB,CAAvB;;AAKA,MAAMa,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACjC,QAAD,EAAc;AAC1C,QAAIkC,KAAK,GAAG,CAAZ;;AACA,QAAIlC,QAAQ,IAAIA,QAAQ,CAACmC,MAAT,GAAkB,CAAlC,EAAqC;AACnCnC,MAAAA,QAAQ,CAACoC,GAAT,CAAa,UAACC,CAAD;AAAA,eAAQH,KAAK,IAAIG,CAAC,CAACC,UAAnB;AAAA,OAAb;AACAJ,MAAAA,KAAK,IAAIlC,QAAQ,CAACmC,MAAlB;AACD;;AACD,WAAOD,KAAP;AACD,GAPD;;AASA,SACE,MAAC,IAAD;AAAM,IAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEnD,OAAO,CAACL,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AACE,IAAA,SAAS,EACP0B,YAAY,IAAIA,YAAY,CAACO,KAAb,IAAsB,CAAtC,GACI,yBADJ,GAEI,iBAJR;AAME,IAAA,IAAI,EAAC,iBANP;AAOE,IAAA,OAAO,EAAE,mBAAM;AACb,UAAM4B,KAAK,GAAG1F,gBAAgB,CAAC,OAAD,CAA9B;AACA0F,MAAAA,KAAK,GACD7B,UAAU,CAACN,YAAY,IAAIA,YAAY,CAACO,KAAb,IAAsB,CAAtC,GAA0C,CAA1C,GAA8C,CAA/C,CADT,GAED3B,MAAM,CAACwD,IAAP,CAAY,YAAZ,CAFJ;AAGD,KAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAeE;AAAG,IAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqBrC,SAArB,CAfF,EAgBE,MAAC,OAAD;AACE,IAAA,SAAS,EACPC,YAAY,IAAIA,YAAY,CAACO,KAAb,IAAsB,CAAC,CAAvC,GACI,2BADJ,GAEI,mBAJR;AAME,IAAA,IAAI,EAAC,mBANP;AAOE,IAAA,OAAO,EAAE;AAAA,aACPD,UAAU,CAACN,YAAY,IAAIA,YAAY,CAACO,KAAb,IAAsB,CAAC,CAAvC,GAA2C,CAA3C,GAA+C,CAAC,CAAjD,CADH;AAAA,KAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,CADF,CADF,EA+BE;AAAK,IAAA,KAAK,EAAE;AAAEhC,MAAAA,KAAK,EAAE,MAAT;AAAiB8D,MAAAA,QAAQ,EAAE;AAA3B,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AACE,IAAA,SAAS,EAAC,kBADZ;AAEE,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAFT;AAGE,IAAA,MAAM,EACJ,CAACjD,EAAD,GACE,MAAC,QAAD;AACE,MAAA,SAAS,EAAC,MADZ;AAEE,MAAA,OAAO,EAAC,QAFV;AAGE,MAAA,KAAK,EAAE,EAHT;AAIE,MAAA,MAAM,EAAE,EAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,GAQE,MAAC,MAAD;AACE,oBAAW,QADb;AAEE,MAAA,GAAG,EAAEM,SAAS,CAAC4C,QAFjB;AAGE,MAAA,SAAS,EAAE5D,OAAO,CAAC6D,MAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZN;AAmBE,IAAA,MAAM,EACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,UAAD;AACE,uBAAc,aADhB;AAEE,uBAAc,MAFhB;AAGE,MAAA,OAAO,EAAE7B,WAHX;AAIE,oBAAW,UAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF,EASE,MAAC,QAAD;AACE,MAAA,IAAI,EAAE8B,OAAO,CAAC3D,QAAD,CADf;AAEE,MAAA,OAAO,EAAEgC,WAFX;AAGE,MAAA,QAAQ,EAAEhC;AAHZ,wCAIWgC,WAJX,sCAKaX,WAAW,GAAGyB,cAAH,GAAoBH,SAL5C;AAAA;AAAA;AAAA;AAAA,cATF,EAgBE,MAAC,gBAAD;AACE,MAAA,QAAQ,EAAEtB,WAAW,GAAGgB,iBAAH,GAAuBF,YAD9C;AAEE,MAAA,OAAO,EAAEF,gBAFX;AAGE,MAAA,QAAQ,EAAE/B,WAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,CApBJ;AA2CE,IAAA,KAAK,EACH,CAACK,EAAD,GACE,MAAC,QAAD;AACE,MAAA,SAAS,EAAC,MADZ;AAEE,MAAA,MAAM,EAAE,EAFV;AAGE,MAAA,KAAK,EAAC,KAHR;AAIE,MAAA,KAAK,EAAE;AAAEqD,QAAAA,YAAY,EAAE;AAAhB,OAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,GAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAE,gBAAZ;AAA8B,MAAA,EAAE,eAAQ/C,SAAS,CAAC4B,IAAlB,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI5B,SAAS,CAACgD,IAAd,CADF,CADF,EAIE;AACE,MAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,UAAU,EAAE,GAA7B;AAAkCC,QAAAA,QAAQ,EAAE;AAA5C,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAJF,EASGjD,IAAI,IACH,MAAC,IAAD;AACE,MAAA,EAAE,EACAO,IAAI,IAAIA,IAAI,CAACP,IAAb,IAAqBO,IAAI,CAACP,IAAL,CAAUkD,QAAV,IAAsBlD,IAAI,CAACmD,QAAhD,gBACUnD,IAAI,CAACmD,QADf,gBAESnD,IAAI,CAACmD,QAFd,CAFJ;AAME,MAAA,IAAI,EACF5C,IAAI,IAAIA,IAAI,CAACP,IAAb,IAAqBO,IAAI,CAACP,IAAL,CAAUkD,QAAV,IAAsBlD,IAAI,CAACmD,QAAhD,mCAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,OAAOnD,IAAI,CAACmD,QAAZ,GAAuB,GAAvB,GAA6B,YADhC,CADF,CAZF,CAVJ,CApDN;AAoFE,IAAA,SAAS,EAAEzD,WAAW,IAAIrD,MAAM,CAACqD,WAAD,CAAN,CAAoB0D,OAApB,EApF5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAuFE,MAAC,IAAD;AAAM,IAAA,EAAE,aAAMtD,SAAS,CAAC4B,IAAhB,cAAwB9B,KAAxB,CAAR;AAAyC,IAAA,IAAI,EAAE,qBAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AACE,IAAA,SAAS,EAAC,mBADZ;AAEE,IAAA,KAAK,EAAE;AAAE6C,MAAAA,OAAO,EAAE;AAAX,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIG,CAACjD,EAAD,GACC,MAAC,QAAD;AACE,IAAA,SAAS,EAAC,MADZ;AAEE,IAAA,OAAO,EAAC,MAFV;AAGE,IAAA,SAAS,EAAEV,OAAO,CAACtB,KAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAOC;AACE,IAAA,SAAS,EAAC,mBADZ;AAEE,IAAA,uBAAuB,EAAE;AAAE6F,MAAAA,MAAM,EAAE1D;AAAV,KAF3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,CADF,EAkBGkB,WAAW,EAlBd,CADF,CAvFF,EA6GE,MAAC,OAAD;AAAS,IAAA,KAAK,EAAE;AAAEkC,MAAAA,MAAM,EAAE;AAAV,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7GF,EA+GE,MAAC,WAAD;AACE,IAAA,KAAK,EAAE;AAAEN,MAAAA,OAAO,EAAE,KAAX;AAAkBa,MAAAA,WAAW,EAAE;AAA/B,KADT;AAEE,IAAA,cAAc,MAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,MAAC,OAAD;AACE,IAAA,KAAK,EAAE;AAAEP,MAAAA,MAAM,EAAE;AAAV,KADT;AAEE,IAAA,IAAI,EAAC,IAFP;AAGE,IAAA,GAAG,MAHL;AAIE,IAAA,IAAI,EAAC,cAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAUE;AAAO,IAAA,KAAK,EAAE;AAAEjF,MAAAA,UAAU,EAAE;AAAd,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGiC,QAAQ,IAAIiC,qBAAqB,CAACjC,QAAD,CADpC,aAVF,EAaE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,CA/GF,CA/BF,CADF;AAiKD;;GAxRQnB,U;UACSxB,S,EACDb,S;;;KAFRqC,U;;AA0RT,IAAM2E,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD;AAAA,SAAe;AACxCnC,IAAAA,UAAU,EAAE,oBAACI,OAAD;AAAA,aAAa+B,QAAQ,CAAC1G,iBAAiB,CAAC2E,OAAD,CAAlB,CAArB;AAAA,KAD4B;AAExCF,IAAAA,eAAe,EAAE,yBAACE,OAAD;AAAA,aAAa+B,QAAQ,CAACzG,sBAAsB,CAAC0E,OAAD,CAAvB,CAArB;AAAA;AAFuB,GAAf;AAAA,CAA3B;;AAKA,IAAMgC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD;AAAA,SAAY;AAClCnD,IAAAA,IAAI,EAAEmD,KAAK,CAACnD,IAAN,IAAcmD,KAAK,CAACnD,IAAN,CAAWoD;AADG,GAAZ;AAAA,CAAxB;;AAIA,eAAe3G,OAAO,CAACyG,eAAD,EAAkBF,kBAAlB,CAAP,CAA6C3E,UAA7C,CAAf","sourcesContent":["import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ReactPlayer from \"react-player\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/tr\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/router\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport { MDBIcon } from \"mdbreact\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport LinkPreview from \"../LinkPreview\";\r\nimport { readLocalStorage } from \"../../lib/helpers\";\r\nimport PostMenu from \"../postMenu\";\r\nimport {\r\n  deletePostRequest,\r\n  deleteModeratorRequest,\r\n} from \"../../lib/posts/actions\";\r\nimport { connect } from \"react-redux\";\r\nimport DeleteCommentPop from \"../CommentList/components/deleteCommentPop\";\r\nimport ImageModal from \"../ImageModal\";\r\nimport ShareButton from \"../ShareButton\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: \"56.25%\", // 16:9\r\n    backgroundSize: \"contain\",\r\n  },\r\n  expand: {\r\n    transform: \"rotate(0deg)\",\r\n    marginLeft: \"auto\",\r\n    transition: theme.transitions.create(\"transform\", {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  postImage: {\r\n    borderRadius: \"20px\",\r\n    maxHeight: \"512px\",\r\n    maxWidth: \"100%\",\r\n  },\r\n  leftSide: {\r\n    width: \"48px\",\r\n    backgroundColor: \"#edebebcc\",\r\n  },\r\n}));\r\n\r\nfunction SocialCard(props) {\r\n  const classes = useStyles();\r\n  const router = useRouter();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [popupAnchor, setPopupAnchor] = React.useState(null);\r\n  const [isOpen, setOpen] = React.useState(false);\r\n\r\n  moment.locale();\r\n\r\n  const {\r\n    id,\r\n    img,\r\n    createdDate,\r\n    content,\r\n    pSlug,\r\n    contentType,\r\n    community,\r\n    comments,\r\n    user,\r\n    linkUrl,\r\n    voteCount,\r\n    userPostVote,\r\n    onVote,\r\n    profilePosts,\r\n    isModerator,\r\n    auth,\r\n    pageNumber,\r\n  } = props;\r\n\r\n  const handleVote = (value) => {\r\n    const values = { postId: id, value, pageNumber };\r\n    onVote(values);\r\n  };\r\n\r\n  const renderMedia = () => {\r\n    if (contentType == 50) {\r\n      return (\r\n        <div className=\"linkPreview_container\">\r\n          <LinkPreview url={linkUrl} />\r\n        </div>\r\n      );\r\n    }\r\n    if (contentType == 20) {\r\n      return (\r\n        <div className=\"player-wrapper\">\r\n          <ReactPlayer className=\"react-player\" controls url={img} />\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"imgContainer\">\r\n          <img\r\n            onClick={() => setOpen(true)}\r\n            className={classes.postImage}\r\n            src={img}\r\n            alt=\"\"\r\n          />\r\n          {isOpen && (\r\n            <ImageModal imageUrl={img} onClose={() => setOpen(false)} />\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleClosePopup = () => {\r\n    setPopupAnchor(null);\r\n  };\r\n\r\n  const onDeleteClick = (event) => {\r\n    setPopupAnchor(event.currentTarget);\r\n  };\r\n\r\n  const onDeletePost = () => {\r\n    const { deletePost } = props;\r\n    deletePost({ id });\r\n    setPopupAnchor(false);\r\n  };\r\n\r\n  const onDeleteModerator = () => {\r\n    const { moderatorDelete, pageDto } = props;\r\n    const payload = {\r\n      slug: community.slug,\r\n      postId: id,\r\n      pageNumber: pageDto.pageNumber,\r\n      pageSize: pageDto.pageSize,\r\n    };\r\n    moderatorDelete(payload);\r\n    setPopupAnchor(null);\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const menuItems = [\r\n    !profilePosts && { title: \"Şikayet Et\", onClick: handleClose },\r\n    profilePosts ? { title: \"Sil\", onClick: onDeleteClick } : null,\r\n  ];\r\n\r\n  const moderatorItems = [\r\n    { title: \"Şikayet Et\", onClick: handleClose },\r\n    { title: \"Sil\", onClick: onDeleteClick },\r\n  ];\r\n\r\n  const calculateSallamaCount = (comments) => {\r\n    let count = 0;\r\n    if (comments && comments.length > 0) {\r\n      comments.map((x) => (count += x.replyCount));\r\n      count += comments.length;\r\n    }\r\n    return count;\r\n  };\r\n\r\n  return (\r\n    <Card className=\"post_card\">\r\n      <div className={classes.leftSide}>\r\n        <div className=\"vote_cont\">\r\n          <MDBIcon\r\n            className={\r\n              userPostVote && userPostVote.value == 1\r\n                ? \"angle-double-up_checked\"\r\n                : \"angle-double-up\"\r\n            }\r\n            icon=\"angle-double-up\"\r\n            onClick={() => {\r\n              const token = readLocalStorage(\"token\");\r\n              token\r\n                ? handleVote(userPostVote && userPostVote.value == 1 ? 0 : 1)\r\n                : router.push(\"/giris-yap\");\r\n            }}\r\n          />\r\n          <p className=\"vote\">{voteCount}</p>\r\n          <MDBIcon\r\n            className={\r\n              userPostVote && userPostVote.value == -1\r\n                ? \"angle-double-down_checked\"\r\n                : \"angle-double-down\"\r\n            }\r\n            icon=\"angle-double-down\"\r\n            onClick={() =>\r\n              handleVote(userPostVote && userPostVote.value == -1 ? 0 : -1)\r\n            }\r\n          />\r\n        </div>\r\n      </div>\r\n      <div style={{ width: \"100%\", overflow: \"hidden\" }}>\r\n        <CardHeader\r\n          className=\"post_card_header\"\r\n          style={{ padding: \"16px 16px 0 16px\" }}\r\n          avatar={\r\n            !id ? (\r\n              <Skeleton\r\n                animation=\"wave\"\r\n                variant=\"circle\"\r\n                width={40}\r\n                height={40}\r\n              />\r\n            ) : (\r\n              <Avatar\r\n                aria-label=\"recipe\"\r\n                src={community.logoPath}\r\n                className={classes.avatar}\r\n              ></Avatar>\r\n            )\r\n          }\r\n          action={\r\n            <div>\r\n              <IconButton\r\n                aria-controls=\"simple-menu\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleClick}\r\n                aria-label=\"settings\"\r\n              >\r\n                <MoreVertIcon />\r\n              </IconButton>\r\n              <PostMenu\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                menuItems={isModerator ? moderatorItems : menuItems}\r\n              />\r\n              <DeleteCommentPop\r\n                onSubmit={isModerator ? onDeleteModerator : onDeletePost}\r\n                onClose={handleClosePopup}\r\n                anchorEl={popupAnchor}\r\n              />\r\n            </div>\r\n          }\r\n          title={\r\n            !id ? (\r\n              <Skeleton\r\n                animation=\"wave\"\r\n                height={10}\r\n                width=\"80%\"\r\n                style={{ marginBottom: 6 }}\r\n              />\r\n            ) : (\r\n              <div>\r\n                <Link href={\"/t/[community]\"} as={`/t/${community.slug}`}>\r\n                  <a>{community.name}</a>\r\n                </Link>\r\n                <small\r\n                  style={{ margin: \"4px\", fontWeight: 600, fontSize: \"92%\" }}\r\n                >\r\n                  /\r\n                </small>\r\n                {user && (\r\n                  <Link\r\n                    as={\r\n                      auth && auth.user && auth.user.username == user.userName\r\n                        ? `/p/${user.userName}`\r\n                        : `u/${user.userName}`\r\n                    }\r\n                    href={\r\n                      auth && auth.user && auth.user.username == user.userName\r\n                        ? `/p/[username]`\r\n                        : `u/[username]`\r\n                    }\r\n                  >\r\n                    <a>\r\n                      <span className=\"posted_by\">\r\n                        {\"u/\" + user.userName + \" \" + \"tarafından\"}\r\n                      </span>\r\n                    </a>\r\n                  </Link>\r\n                )}\r\n              </div>\r\n            )\r\n          }\r\n          subheader={createdDate && moment(createdDate).fromNow()}\r\n        />\r\n        <Link as={`/${community.slug}/${pSlug}`} href={\"/[community]/[post]\"}>\r\n          <div className=\"content_container\">\r\n            <CardContent\r\n              className=\"post_content_area\"\r\n              style={{ padding: \"5px 16px 16px 25px\" }}\r\n            >\r\n              {!id ? (\r\n                <Skeleton\r\n                  animation=\"wave\"\r\n                  variant=\"rect\"\r\n                  className={classes.media}\r\n                />\r\n              ) : (\r\n                <div\r\n                  className=\"card_post_content\"\r\n                  dangerouslySetInnerHTML={{ __html: content }}\r\n                />\r\n              )}\r\n            </CardContent>\r\n            {renderMedia()}\r\n          </div>\r\n        </Link>\r\n        <Divider style={{ margin: \"15px 0px 0px 0px\" }} />\r\n\r\n        <CardActions\r\n          style={{ padding: \"0px\", paddingLeft: \"3.5rem\" }}\r\n          disableSpacing\r\n        >\r\n          <MDBIcon\r\n            style={{ margin: \"0.5rem\" }}\r\n            size=\"lg\"\r\n            far\r\n            icon=\"comment-dots\"\r\n          />\r\n          <small style={{ marginLeft: \"-5px\" }}>\r\n            {comments && calculateSallamaCount(comments)} sallama\r\n          </small>\r\n          <ShareButton />\r\n        </CardActions>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  deletePost: (payload) => dispatch(deletePostRequest(payload)),\r\n  moderatorDelete: (payload) => dispatch(deleteModeratorRequest(payload)),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth && state.auth.data,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SocialCard);\r\n"]},"metadata":{},"sourceType":"module"}