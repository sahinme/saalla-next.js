{"ast":null,"code":"var _jsxFileName = \"D:\\\\repos\\\\saalla-next.js\\\\components\\\\Header\\\\index.jsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useRef, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\nimport clsx from \"clsx\";\nimport _ from \"lodash\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport NotificationImportantIcon from \"@material-ui/icons/NotificationImportant\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Menu from \"@material-ui/core/Menu\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Badge from \"@material-ui/core/Badge\";\nimport { Button, Avatar } from \"@material-ui/core\";\nimport { readLocalStorage } from \"../../lib/helpers\";\nimport { logOut } from \"../../lib/auth/actions\";\nimport ComboBox from \"../AutoComplete\";\nimport { getUserCommunitiesRequest, ofModeratorsRequest } from \"../../lib/community/actions\";\nimport MainDrawer from \"../Drawer\";\nimport { getCountRequest } from \"../../lib/notifications/actions\";\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport { connect } from \"react-redux\";\nimport { renderImage } from \"../ProfileCard\";\nimport { getUnreadsRequest } from \"../../lib/messages/actions\";\nimport { searchRequest } from \"../../lib/home/actions\";\nimport logo from \"../logo.png\";\nconst drawerWidth = 240;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  },\n  grow: {\n    flexGrow: 1\n  },\n  title: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\"\n    },\n    width: \"7rem\"\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  appBar: {\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  hide: {\n    display: \"none\"\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawerHeader: _objectSpread(_objectSpread({\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(0, 1)\n  }, theme.mixins.toolbar), {}, {\n    justifyContent: \"flex-end\"\n  }),\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginLeft: -drawerWidth\n  },\n  contentShift: {\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: \"#a3989826\",\n    \"&:hover\": {\n      backgroundColor: \"#59535326\"\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(3),\n      width: \"auto\"\n    }\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputRoot: {\n    color: \"inherit\"\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\"\n    }\n  },\n  sectionDesktop: {\n    display: \"none\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"flex\"\n    }\n  },\n  sectionMobile: {\n    display: \"flex\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\"\n    }\n  }\n}));\n\nfunction PrimarySearchAppBar(props) {\n  const {\n    unReads,\n    unReadMessages\n  } = props;\n  const classes = useStyles();\n  const router = useRouter();\n  const [open, setOpen] = React.useState(false);\n  const [auth, setAuth] = React.useState({\n    data: {\n      token: null,\n      user: null\n    },\n    error: null\n  });\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n  const [user, setUser] = React.useState(false);\n  const [userQuery, setUserQuery] = React.useState(\"\");\n  useEffect(() => {\n    const user = readLocalStorage(\"user\");\n    const token = readLocalStorage(\"token\");\n\n    if (user) {\n      setUser(user);\n    }\n\n    if (user && token) {\n      const payload = {\n        data: {\n          user,\n          token\n        },\n        error: null\n      };\n      setAuth(payload);\n    }\n\n    const {\n      getUserCommunities,\n      getUnReads,\n      ofModerators,\n      getUnReadMessages\n    } = props;\n    getUserCommunities();\n    getUnReads();\n    getUnReadMessages();\n    user && user.isModerator && ofModerators();\n  }, []);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n  const handleProfileMenuOpen = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n  };\n\n  const handleMobileMenuOpen = event => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n\n  const handleSelectChange = community => {\n    community && router.push(`/t/${community.slug}`);\n  };\n\n  const handleSearchChange = values => {\n    if (values) {\n      values.type === \"community\" ? router.push(`/t/${values.name}`) : router.push(`/${values.name}`);\n    } else {\n      return;\n    }\n  };\n\n  const delayedQuery = useRef(_.debounce(q => props.search({\n    text: q\n  }), 500)).current;\n\n  const onSearch = e => {\n    setUserQuery(e.target.value);\n    delayedQuery(e.target.value);\n  };\n\n  const menuId = \"primary-search-account-menu\";\n\n  const renderMenu = __jsx(Menu, {\n    anchorEl: anchorEl,\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    id: menuId,\n    keepMounted: true,\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    open: isMenuOpen,\n    onClose: handleMenuClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 5\n    }\n  }, __jsx(MenuItem, {\n    onClick: () => router.push(`/p/${user.username}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }\n  }, \"Profil\"), __jsx(MenuItem, {\n    onClick: props.logOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }\n  }, \"\\xC7\\u0131k\\u0131\\u015F\"));\n\n  const mobileMenuId = \"primary-search-account-menu-mobile\";\n\n  const renderMobileMenu = __jsx(Menu, {\n    anchorEl: mobileMoreAnchorEl,\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    id: mobileMenuId,\n    keepMounted: true,\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    open: isMobileMenuOpen,\n    onClose: handleMobileMenuClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 5\n    }\n  }, auth.data.token ? __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 9\n    }\n  }, \" \", __jsx(MenuItem, {\n    onClick: () => router.push(\"/chat\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"show 4 new mails\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }\n  }, __jsx(Badge, {\n    badgeContent: unReadMessages,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 15\n    }\n  }, __jsx(MailIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 17\n    }\n  }))), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }\n  }, \"Mesajlar\")), __jsx(MenuItem, {\n    onClick: () => router.push(`/bildirimler`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"show 11 new notifications\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }\n  }, __jsx(Badge, {\n    badgeContent: unReads && unReads.count,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 15\n    }\n  }, __jsx(NotificationsIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 17\n    }\n  }))), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }\n  }, \"Bildirimler\")), __jsx(MenuItem, {\n    onClick: () => router.push(`/p/${user.username}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": \"primary-search-account-menu\",\n    \"aria-haspopup\": \"true\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }\n  }, __jsx(Avatar, {\n    className: \"header_avatar\",\n    src: renderImage(user.profileImagePath, user.gender),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 15\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }\n  }, \"Profil\")), \" \", __jsx(MenuItem, {\n    onClick: props.logOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }\n  }, __jsx(ExitToAppIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 15\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 13\n    }\n  }, \"\\xC7\\u0131k\\u0131\\u015F\"))) : __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 9\n    }\n  }, __jsx(MenuItem, {\n    onClick: () => router.push(\"/giris-yap\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": \"primary-search-account-menu\",\n    \"aria-haspopup\": \"true\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 13\n    }\n  }, __jsx(AccountCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 15\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 13\n    }\n  }, \"Giri\\u015F Yap\")), __jsx(MenuItem, {\n    onClick: () => router.push(\"/kaydol\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": \"primary-search-account-menu\",\n    \"aria-haspopup\": \"true\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 13\n    }\n  }, __jsx(AccountCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 15\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 13\n    }\n  }, \"Kaydol\"))));\n\n  return __jsx(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 5\n    }\n  }, __jsx(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }\n  }), __jsx(AppBar, {\n    position: \"fixed\",\n    className: clsx(classes.appBar, {\n      [classes.appBarShift]: open\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }\n  }, __jsx(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 9\n    }\n  }, __jsx(IconButton, {\n    color: \"inherit\",\n    \"aria-label\": \"open drawer\",\n    onClick: handleDrawerOpen,\n    edge: \"start\",\n    className: clsx(classes.menuButton, open && classes.hide),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 11\n    }\n  }, __jsx(MenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }\n  })), __jsx(Link, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    className: classes.title,\n    src: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: classes.search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: classes.searchIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 13\n    }\n  }, __jsx(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 15\n    }\n  })), __jsx(ComboBox, {\n    style: {\n      width: \"100%\"\n    },\n    onSearch: onSearch,\n    onChange: handleSearchChange,\n    placeholder: \"ara\",\n    options: props.searchData || [],\n    labelField: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 13\n    }\n  })), auth.data.token && __jsx(ComboBox, {\n    style: {\n      width: \"50%\"\n    },\n    onChange: handleSelectChange,\n    placeholder: \"Topluluklar\\u0131n\",\n    options: props.userCommunities || [],\n    labelField: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: classes.grow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: classes.sectionDesktop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 11\n    }\n  }, auth.data.token ? __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 15\n    }\n  }, __jsx(IconButton, {\n    onClick: () => router.push(\"/chat\"),\n    \"aria-label\": \"show 4 new mails\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 17\n    }\n  }, __jsx(Badge, {\n    badgeContent: unReadMessages,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 19\n    }\n  }, __jsx(MailIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 21\n    }\n  }))), __jsx(IconButton, {\n    onClick: () => router.push(\"/bildirimler\"),\n    \"aria-label\": \"show 17 new notifications\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 17\n    }\n  }, __jsx(Badge, {\n    badgeContent: unReads && unReads.count,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 19\n    }\n  }, __jsx(NotificationImportantIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 21\n    }\n  }))), __jsx(IconButton, {\n    edge: \"end\",\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": menuId,\n    \"aria-haspopup\": \"true\",\n    onClick: handleProfileMenuOpen,\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 17\n    }\n  }, __jsx(Avatar, {\n    className: \"header_avatar\",\n    src: user.profileImagePath,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 19\n    }\n  })), \" \") : __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    style: {\n      marginRight: \"0.5rem\"\n    },\n    onClick: () => router.push(\"/kaydol\"),\n    variant: \"contained\",\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 17\n    }\n  }, \"Kaydol\"), __jsx(Button, {\n    onClick: () => router.push(\"/giris-yap\"),\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 17\n    }\n  }, \"Giri\\u015F yap\"))), __jsx(\"div\", {\n    className: classes.sectionMobile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"show more\",\n    \"aria-controls\": mobileMenuId,\n    \"aria-haspopup\": \"true\",\n    onClick: handleMobileMenuOpen,\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 13\n    }\n  }, __jsx(Badge, {\n    badgeContent: unReads && unReadMessages + unReads.count,\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 15\n    }\n  }, __jsx(MoreIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 17\n    }\n  })))))), renderMobileMenu, renderMenu, __jsx(MainDrawer, {\n    userCommunities: props.userCommunities,\n    ofModerators: props.ownCommunities,\n    open: open,\n    onClose: handleDrawerClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 7\n    }\n  }));\n}\n\nconst mapDispatchToProps = dispatch => ({\n  logOut: () => dispatch(logOut()),\n  getUserCommunities: () => dispatch(getUserCommunitiesRequest()),\n  ofModerators: () => dispatch(ofModeratorsRequest()),\n  getUnReads: () => dispatch(getCountRequest()),\n  getUnReadMessages: () => dispatch(getUnreadsRequest()),\n  search: payload => dispatch(searchRequest(payload))\n});\n\nconst mapStateToProps = state => ({\n  //auth: state.auth,\n  userCommunities: state.userCommunities.data,\n  ownCommunities: state.ofModerators.data,\n  unReads: state.unReads.data,\n  unReadMessages: state.unReadMessages.unreads,\n  searchData: state.home.search\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PrimarySearchAppBar);","map":{"version":3,"sources":["D:/repos/saalla-next.js/components/Header/index.jsx"],"names":["React","useRef","useEffect","useRouter","Link","clsx","_","makeStyles","CssBaseline","AppBar","Toolbar","NotificationImportantIcon","IconButton","MenuIcon","Menu","ExitToAppIcon","SearchIcon","AccountCircle","NotificationsIcon","MoreIcon","MenuItem","Badge","Button","Avatar","readLocalStorage","logOut","ComboBox","getUserCommunitiesRequest","ofModeratorsRequest","MainDrawer","getCountRequest","MailIcon","connect","renderImage","getUnreadsRequest","searchRequest","logo","drawerWidth","useStyles","theme","root","display","grow","flexGrow","title","breakpoints","up","width","menuButton","marginRight","spacing","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","hide","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","padding","mixins","toolbar","justifyContent","content","contentShift","search","position","borderRadius","shape","backgroundColor","searchIcon","height","pointerEvents","inputRoot","color","inputInput","paddingLeft","sectionDesktop","sectionMobile","PrimarySearchAppBar","props","unReads","unReadMessages","classes","router","open","setOpen","useState","auth","setAuth","data","token","user","error","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","setUser","userQuery","setUserQuery","payload","getUserCommunities","getUnReads","ofModerators","getUnReadMessages","isModerator","handleDrawerOpen","handleDrawerClose","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","handleMenuClose","handleMobileMenuOpen","handleSelectChange","community","push","slug","handleSearchChange","values","type","name","delayedQuery","debounce","q","text","current","onSearch","e","target","value","menuId","renderMenu","vertical","horizontal","username","mobileMenuId","renderMobileMenu","count","profileImagePath","gender","searchData","userCommunities","ownCommunities","mapDispatchToProps","dispatch","mapStateToProps","state","unreads","home"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport Link from \"next/link\";\r\nimport clsx from \"clsx\";\r\nimport _ from \"lodash\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport NotificationImportantIcon from \"@material-ui/icons/NotificationImportant\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport { Button, Avatar } from \"@material-ui/core\";\r\nimport { readLocalStorage } from \"../../lib/helpers\";\r\nimport { logOut } from \"../../lib/auth/actions\";\r\nimport ComboBox from \"../AutoComplete\";\r\nimport {\r\n  getUserCommunitiesRequest,\r\n  ofModeratorsRequest,\r\n} from \"../../lib/community/actions\";\r\nimport MainDrawer from \"../Drawer\";\r\nimport { getCountRequest } from \"../../lib/notifications/actions\";\r\nimport MailIcon from \"@material-ui/icons/Mail\";\r\nimport { connect } from \"react-redux\";\r\nimport { renderImage } from \"../ProfileCard\";\r\nimport { getUnreadsRequest } from \"../../lib/messages/actions\";\r\nimport { searchRequest } from \"../../lib/home/actions\";\r\nimport logo from \"../logo.png\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\",\r\n    },\r\n    width: \"7rem\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: \"#a3989826\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#59535326\",\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    pointerEvents: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: \"flex\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction PrimarySearchAppBar(props) {\r\n  const { unReads, unReadMessages } = props;\r\n\r\n  const classes = useStyles();\r\n  const router = useRouter();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [auth, setAuth] = React.useState({\r\n    data: { token: null, user: null },\r\n    error: null,\r\n  });\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n  const [user, setUser] = React.useState(false);\r\n  const [userQuery, setUserQuery] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const user = readLocalStorage(\"user\");\r\n    const token = readLocalStorage(\"token\");\r\n    if (user) {\r\n      setUser(user);\r\n    }\r\n    if (user && token) {\r\n      const payload = { data: { user, token }, error: null };\r\n      setAuth(payload);\r\n    }\r\n    const {\r\n      getUserCommunities,\r\n      getUnReads,\r\n      ofModerators,\r\n      getUnReadMessages,\r\n    } = props;\r\n    getUserCommunities();\r\n    getUnReads();\r\n    getUnReadMessages();\r\n    user && user.isModerator && ofModerators();\r\n  }, []);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  const handleProfileMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = (event) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleSelectChange = (community) => {\r\n    community && router.push(`/t/${community.slug}`);\r\n  };\r\n\r\n  const handleSearchChange = (values) => {\r\n    if (values) {\r\n      values.type === \"community\"\r\n        ? router.push(`/t/${values.name}`)\r\n        : router.push(`/${values.name}`);\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  const delayedQuery = useRef(_.debounce((q) => props.search({ text: q }), 500))\r\n    .current;\r\n  const onSearch = (e) => {\r\n    setUserQuery(e.target.value);\r\n    delayedQuery(e.target.value);\r\n  };\r\n\r\n  const menuId = \"primary-search-account-menu\";\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={() => router.push(`/p/${user.username}`)}>\r\n        Profil\r\n      </MenuItem>\r\n      <MenuItem onClick={props.logOut}>Çıkış</MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  const mobileMenuId = \"primary-search-account-menu-mobile\";\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      {auth.data.token ? (\r\n        <span>\r\n          {\" \"}\r\n          <MenuItem onClick={() => router.push(\"/chat\")}>\r\n            <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n              <Badge badgeContent={unReadMessages} color=\"secondary\">\r\n                <MailIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            <p>Mesajlar</p>\r\n          </MenuItem>\r\n          <MenuItem onClick={() => router.push(`/bildirimler`)}>\r\n            <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\r\n              <Badge badgeContent={unReads && unReads.count} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            <p>Bildirimler</p>\r\n          </MenuItem>\r\n          <MenuItem onClick={() => router.push(`/p/${user.username}`)}>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"primary-search-account-menu\"\r\n              aria-haspopup=\"true\"\r\n              color=\"inherit\"\r\n            >\r\n              <Avatar\r\n                className=\"header_avatar\"\r\n                src={renderImage(user.profileImagePath, user.gender)}\r\n              />\r\n            </IconButton>\r\n            <p>Profil</p>\r\n          </MenuItem>{\" \"}\r\n          <MenuItem onClick={props.logOut}>\r\n            <IconButton color=\"inherit\">\r\n              <ExitToAppIcon />\r\n            </IconButton>\r\n            <p>Çıkış</p>\r\n          </MenuItem>\r\n        </span>\r\n      ) : (\r\n        <span>\r\n          <MenuItem onClick={() => router.push(\"/giris-yap\")}>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"primary-search-account-menu\"\r\n              aria-haspopup=\"true\"\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <p>Giriş Yap</p>\r\n          </MenuItem>\r\n          <MenuItem onClick={() => router.push(\"/kaydol\")}>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"primary-search-account-menu\"\r\n              aria-haspopup=\"true\"\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <p>Kaydol</p>\r\n          </MenuItem>\r\n        </span>\r\n      )}\r\n    </Menu>\r\n  );\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, open && classes.hide)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Link href=\"/\">\r\n            <img className={classes.title} src={logo} />\r\n          </Link>\r\n          <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <ComboBox\r\n              style={{ width: \"100%\" }}\r\n              onSearch={onSearch}\r\n              onChange={handleSearchChange}\r\n              placeholder=\"ara\"\r\n              options={props.searchData || []}\r\n              labelField=\"name\"\r\n            />\r\n          </div>\r\n          {auth.data.token && (\r\n            <ComboBox\r\n              style={{ width: \"50%\" }}\r\n              onChange={handleSelectChange}\r\n              placeholder=\"Toplulukların\"\r\n              options={props.userCommunities || []}\r\n              labelField=\"name\"\r\n            />\r\n          )}\r\n          <div className={classes.grow} />\r\n\r\n          <div className={classes.sectionDesktop}>\r\n            {auth.data.token ? (\r\n              <React.Fragment>\r\n                <IconButton\r\n                  onClick={() => router.push(\"/chat\")}\r\n                  aria-label=\"show 4 new mails\"\r\n                  color=\"inherit\"\r\n                >\r\n                  <Badge badgeContent={unReadMessages} color=\"secondary\">\r\n                    <MailIcon />\r\n                  </Badge>\r\n                </IconButton>\r\n                <IconButton\r\n                  onClick={() => router.push(\"/bildirimler\")}\r\n                  aria-label=\"show 17 new notifications\"\r\n                  color=\"inherit\"\r\n                >\r\n                  <Badge\r\n                    badgeContent={unReads && unReads.count}\r\n                    color=\"secondary\"\r\n                  >\r\n                    <NotificationImportantIcon />\r\n                  </Badge>\r\n                </IconButton>\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  aria-label=\"account of current user\"\r\n                  aria-controls={menuId}\r\n                  aria-haspopup=\"true\"\r\n                  onClick={handleProfileMenuOpen}\r\n                  color=\"inherit\"\r\n                >\r\n                  <Avatar\r\n                    className=\"header_avatar\"\r\n                    src={user.profileImagePath}\r\n                  />\r\n                </IconButton>{\" \"}\r\n              </React.Fragment>\r\n            ) : (\r\n              <React.Fragment>\r\n                <Button\r\n                  style={{ marginRight: \"0.5rem\" }}\r\n                  onClick={() => router.push(\"/kaydol\")}\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                >\r\n                  Kaydol\r\n                </Button>\r\n                <Button\r\n                  onClick={() => router.push(\"/giris-yap\")}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  Giriş yap\r\n                </Button>\r\n              </React.Fragment>\r\n            )}\r\n          </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label=\"show more\"\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMobileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <Badge\r\n                badgeContent={unReads && unReadMessages + unReads.count}\r\n                color=\"secondary\"\r\n              >\r\n                <MoreIcon />\r\n              </Badge>\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n      <MainDrawer\r\n        userCommunities={props.userCommunities}\r\n        ofModerators={props.ownCommunities}\r\n        open={open}\r\n        onClose={handleDrawerClose}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  logOut: () => dispatch(logOut()),\r\n  getUserCommunities: () => dispatch(getUserCommunitiesRequest()),\r\n  ofModerators: () => dispatch(ofModeratorsRequest()),\r\n  getUnReads: () => dispatch(getCountRequest()),\r\n  getUnReadMessages: () => dispatch(getUnreadsRequest()),\r\n  search: (payload) => dispatch(searchRequest(payload)),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  //auth: state.auth,\r\n  userCommunities: state.userCommunities.data,\r\n  ownCommunities: state.ofModerators.data,\r\n  unReads: state.unReads.data,\r\n  unReadMessages: state.unReadMessages.unreads,\r\n  searchData: state.home.search,\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PrimarySearchAppBar);\r\n"]},"metadata":{},"sourceType":"module"}