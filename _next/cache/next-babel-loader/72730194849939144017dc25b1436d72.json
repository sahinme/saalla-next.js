{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(updateProfileSaga),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(getPostsSaga),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(getProfileSaga),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(Saga);\n\nimport { Get, Post, PutFormData } from \"../services\";\nimport { call, put, takeLatest } from \"redux-saga/effects\";\nimport { UPDATE_PROFILE_FAILURE, UPDATE_PROFILE_REQUEST, UPDATE_PROFILE_SUCCESS, GET_PROFILE_POSTS_FAILURE, GET_PROFILE_POSTS_REQUEST, GET_PROFILE_POSTS_SUCCESS, GET_PROFILE_FAILURE, GET_PROFILE_REQUEST, GET_PROFILE_SUCCESS, getProfileRequest } from './actions';\nimport { readLocalStorage } from '../helpers';\nimport { LOADER_END, LOADER_START } from \"../loader/actions\";\n\nfunction updateProfileSaga(_ref) {\n  var payload, user, response;\n  return _regeneratorRuntime.wrap(function updateProfileSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          payload = _ref.payload;\n          _context.prev = 1;\n          _context.next = 4;\n          return put({\n            type: LOADER_START\n          });\n\n        case 4:\n          user = readLocalStorage(\"user\");\n          if (!payload.gender) payload.gender = user.gender;\n          _context.next = 8;\n          return call(PutFormData, \"user/update-user\", payload, {});\n\n        case 8:\n          response = _context.sent;\n\n          if (!(response && !response.error)) {\n            _context.next = 16;\n            break;\n          }\n\n          _context.next = 12;\n          return put({\n            type: UPDATE_PROFILE_SUCCESS,\n            payload: response\n          });\n\n        case 12:\n          _context.next = 14;\n          return put({\n            type: LOADER_END\n          });\n\n        case 14:\n          _context.next = 20;\n          break;\n\n        case 16:\n          _context.next = 18;\n          return put({\n            type: UPDATE_PROFILE_FAILURE,\n            payload: response\n          });\n\n        case 18:\n          _context.next = 20;\n          return put({\n            type: LOADER_END\n          });\n\n        case 20:\n          _context.next = 28;\n          break;\n\n        case 22:\n          _context.prev = 22;\n          _context.t0 = _context[\"catch\"](1);\n          _context.next = 26;\n          return put({\n            type: UPDATE_PROFILE_FAILURE,\n            payload: _context.t0\n          });\n\n        case 26:\n          _context.next = 28;\n          return put({\n            type: LOADER_END\n          });\n\n        case 28:\n          _context.next = 30;\n          return put(getProfileRequest({}));\n\n        case 30:\n          _context.next = 32;\n          return put({\n            type: LOADER_END\n          });\n\n        case 32:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[1, 22]]);\n}\n\nfunction getPostsSaga(_ref2) {\n  var payload, user, response;\n  return _regeneratorRuntime.wrap(function getPostsSaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          payload = _ref2.payload;\n          _context2.prev = 1;\n          _context2.next = 4;\n          return put({\n            type: LOADER_START\n          });\n\n        case 4:\n          user = readLocalStorage(\"user\");\n          _context2.next = 7;\n          return call(Get, \"post/get-user-posts?username=\".concat(user.username), payload, {});\n\n        case 7:\n          response = _context2.sent;\n\n          if (!(response && !response.error)) {\n            _context2.next = 15;\n            break;\n          }\n\n          _context2.next = 11;\n          return put({\n            type: GET_PROFILE_POSTS_SUCCESS,\n            payload: response\n          });\n\n        case 11:\n          _context2.next = 13;\n          return put({\n            type: LOADER_END\n          });\n\n        case 13:\n          _context2.next = 19;\n          break;\n\n        case 15:\n          _context2.next = 17;\n          return put({\n            type: GET_PROFILE_POSTS_FAILURE,\n            payload: response\n          });\n\n        case 17:\n          _context2.next = 19;\n          return put({\n            type: LOADER_END\n          });\n\n        case 19:\n          _context2.next = 27;\n          break;\n\n        case 21:\n          _context2.prev = 21;\n          _context2.t0 = _context2[\"catch\"](1);\n          _context2.next = 25;\n          return put({\n            type: GET_PROFILE_POSTS_FAILURE,\n            payload: _context2.t0\n          });\n\n        case 25:\n          _context2.next = 27;\n          return put({\n            type: LOADER_END\n          });\n\n        case 27:\n          _context2.next = 29;\n          return put({\n            type: LOADER_END\n          });\n\n        case 29:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[1, 21]]);\n}\n\nfunction getProfileSaga(_ref3) {\n  var payload, user, response;\n  return _regeneratorRuntime.wrap(function getProfileSaga$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          payload = _ref3.payload;\n          _context3.prev = 1;\n          _context3.next = 4;\n          return put({\n            type: LOADER_START\n          });\n\n        case 4:\n          user = readLocalStorage(\"user\");\n          _context3.next = 7;\n          return call(Get, \"user/get?username=\".concat(user.username), {}, {});\n\n        case 7:\n          response = _context3.sent;\n\n          if (!(response && !response.error)) {\n            _context3.next = 15;\n            break;\n          }\n\n          _context3.next = 11;\n          return put({\n            type: GET_PROFILE_SUCCESS,\n            payload: response\n          });\n\n        case 11:\n          _context3.next = 13;\n          return put({\n            type: LOADER_END\n          });\n\n        case 13:\n          _context3.next = 19;\n          break;\n\n        case 15:\n          _context3.next = 17;\n          return put({\n            type: GET_PROFILE_FAILURE,\n            payload: response\n          });\n\n        case 17:\n          _context3.next = 19;\n          return put({\n            type: LOADER_END\n          });\n\n        case 19:\n          _context3.next = 27;\n          break;\n\n        case 21:\n          _context3.prev = 21;\n          _context3.t0 = _context3[\"catch\"](1);\n          _context3.next = 25;\n          return put({\n            type: GET_PROFILE_FAILURE,\n            payload: _context3.t0\n          });\n\n        case 25:\n          _context3.next = 27;\n          return put({\n            type: LOADER_END\n          });\n\n        case 27:\n          _context3.next = 29;\n          return put({\n            type: LOADER_END\n          });\n\n        case 29:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[1, 21]]);\n}\n\nexport default function Saga() {\n  return _regeneratorRuntime.wrap(function Saga$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeLatest(UPDATE_PROFILE_REQUEST, updateProfileSaga);\n\n        case 2:\n          _context4.next = 4;\n          return takeLatest(GET_PROFILE_POSTS_REQUEST, getPostsSaga);\n\n        case 4:\n          _context4.next = 6;\n          return takeLatest(GET_PROFILE_REQUEST, getProfileSaga);\n\n        case 6:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n_c = Saga;\n\nvar _c;\n\n$RefreshReg$(_c, \"Saga\");","map":{"version":3,"sources":["D:/repos/saalla-next.js/lib/profile/sagas.js"],"names":["updateProfileSaga","getPostsSaga","getProfileSaga","Saga","Get","Post","PutFormData","call","put","takeLatest","UPDATE_PROFILE_FAILURE","UPDATE_PROFILE_REQUEST","UPDATE_PROFILE_SUCCESS","GET_PROFILE_POSTS_FAILURE","GET_PROFILE_POSTS_REQUEST","GET_PROFILE_POSTS_SUCCESS","GET_PROFILE_FAILURE","GET_PROFILE_REQUEST","GET_PROFILE_SUCCESS","getProfileRequest","readLocalStorage","LOADER_END","LOADER_START","payload","type","user","gender","response","error","username"],"mappings":";;oDAUUA,iB;qDAqBAC,Y;qDAmBAC,c;qDAoBeC,I;;AAtEzB,SAASC,GAAT,EAAcC,IAAd,EAAoBC,WAApB,QAAuC,aAAvC;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,UAApB,QAAsC,oBAAtC;AACA,SACEC,sBADF,EAC0BC,sBAD1B,EACkDC,sBADlD,EAEEC,yBAFF,EAE6BC,yBAF7B,EAEwDC,yBAFxD,EAGEC,mBAHF,EAGuBC,mBAHvB,EAG4CC,mBAH5C,EAGiEC,iBAHjE,QAIO,WAJP;AAKA,SAASC,gBAAT,QAAiC,YAAjC;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,mBAAzC;;AAEA,SAAUtB,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8BuB,UAAAA,OAA9B,QAA8BA,OAA9B;AAAA;AAAA;AAEI,iBAAMf,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEF;AAAR,WAAD,CAAT;;AAFJ;AAGUG,UAAAA,IAHV,GAGiBL,gBAAgB,CAAC,MAAD,CAHjC;AAII,cAAI,CAACG,OAAO,CAACG,MAAb,EAAqBH,OAAO,CAACG,MAAR,GAAiBD,IAAI,CAACC,MAAtB;AAJzB;AAKqB,iBAAMnB,IAAI,CAACD,WAAD,sBAAkCiB,OAAlC,EAA2C,EAA3C,CAAV;;AALrB;AAKUI,UAAAA,QALV;;AAAA,gBAMQA,QAAQ,IAAI,CAACA,QAAQ,CAACC,KAN9B;AAAA;AAAA;AAAA;;AAAA;AAOM,iBAAMpB,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEZ,sBAAR;AAAgCW,YAAAA,OAAO,EAAEI;AAAzC,WAAD,CAAT;;AAPN;AAAA;AAQM,iBAAMnB,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AARN;AAAA;AAAA;;AAAA;AAAA;AAUM,iBAAMb,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEd,sBAAR;AAAgCa,YAAAA,OAAO,EAAEI;AAAzC,WAAD,CAAT;;AAVN;AAAA;AAWM,iBAAMnB,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAXN;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAcI,iBAAMb,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEd,sBAAR;AAAgCa,YAAAA,OAAO;AAAvC,WAAD,CAAT;;AAdJ;AAAA;AAeI,iBAAMf,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAfJ;AAAA;AAiBE,iBAAMb,GAAG,CAACW,iBAAiB,CAAC,EAAD,CAAlB,CAAT;;AAjBF;AAAA;AAkBE,iBAAMX,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAlBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAqBA,SAAUpB,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyBsB,UAAAA,OAAzB,SAAyBA,OAAzB;AAAA;AAAA;AAEI,iBAAMf,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEF;AAAR,WAAD,CAAT;;AAFJ;AAGUG,UAAAA,IAHV,GAGiBL,gBAAgB,CAAC,MAAD,CAHjC;AAAA;AAIqB,iBAAMb,IAAI,CAACH,GAAD,yCAAsCqB,IAAI,CAACI,QAA3C,GAAuDN,OAAvD,EAAgE,EAAhE,CAAV;;AAJrB;AAIUI,UAAAA,QAJV;;AAAA,gBAKQA,QAAQ,IAAI,CAACA,QAAQ,CAACC,KAL9B;AAAA;AAAA;AAAA;;AAAA;AAMM,iBAAMpB,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAET,yBAAR;AAAmCQ,YAAAA,OAAO,EAAEI;AAA5C,WAAD,CAAT;;AANN;AAAA;AAOM,iBAAMnB,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAPN;AAAA;AAAA;;AAAA;AAAA;AASM,iBAAMb,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEX,yBAAR;AAAmCU,YAAAA,OAAO,EAAEI;AAA5C,WAAD,CAAT;;AATN;AAAA;AAUM,iBAAMnB,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAVN;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAaI,iBAAMb,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEX,yBAAR;AAAmCU,YAAAA,OAAO;AAA1C,WAAD,CAAT;;AAbJ;AAAA;AAcI,iBAAMf,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAdJ;AAAA;AAgBE,iBAAMb,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAhBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAmBA,SAAUnB,cAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2BqB,UAAAA,OAA3B,SAA2BA,OAA3B;AAAA;AAAA;AAEI,iBAAMf,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEF;AAAR,WAAD,CAAT;;AAFJ;AAGUG,UAAAA,IAHV,GAGiBL,gBAAgB,CAAC,MAAD,CAHjC;AAAA;AAIqB,iBAAMb,IAAI,CAACH,GAAD,8BAA2BqB,IAAI,CAACI,QAAhC,GAA4C,EAA5C,EAAgD,EAAhD,CAAV;;AAJrB;AAIUF,UAAAA,QAJV;;AAAA,gBAKQA,QAAQ,IAAI,CAACA,QAAQ,CAACC,KAL9B;AAAA;AAAA;AAAA;;AAAA;AAMM,iBAAMpB,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEN,mBAAR;AAA6BK,YAAAA,OAAO,EAAEI;AAAtC,WAAD,CAAT;;AANN;AAAA;AAOM,iBAAMnB,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAPN;AAAA;AAAA;;AAAA;AAAA;AASM,iBAAMb,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAER,mBAAR;AAA6BO,YAAAA,OAAO,EAAEI;AAAtC,WAAD,CAAT;;AATN;AAAA;AAUM,iBAAMnB,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAVN;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAaI,iBAAMb,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAER,mBAAR;AAA6BO,YAAAA,OAAO;AAApC,WAAD,CAAT;;AAbJ;AAAA;AAcI,iBAAMf,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAdJ;AAAA;AAgBE,iBAAMb,GAAG,CAAC;AAAEgB,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAhBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAoBA,eAAe,SAAUlB,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACb,iBAAMM,UAAU,CAACE,sBAAD,EAAyBX,iBAAzB,CAAhB;;AADa;AAAA;AAEb,iBAAMS,UAAU,CAACK,yBAAD,EAA4Bb,YAA5B,CAAhB;;AAFa;AAAA;AAGb,iBAAMQ,UAAU,CAACQ,mBAAD,EAAsBf,cAAtB,CAAhB;;AAHa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;KAAUC,I","sourcesContent":["import { Get, Post, PutFormData } from \"../services\";\r\nimport { call, put, takeLatest } from \"redux-saga/effects\";\r\nimport {\r\n  UPDATE_PROFILE_FAILURE, UPDATE_PROFILE_REQUEST, UPDATE_PROFILE_SUCCESS,\r\n  GET_PROFILE_POSTS_FAILURE, GET_PROFILE_POSTS_REQUEST, GET_PROFILE_POSTS_SUCCESS,\r\n  GET_PROFILE_FAILURE, GET_PROFILE_REQUEST, GET_PROFILE_SUCCESS, getProfileRequest\r\n} from './actions';\r\nimport { readLocalStorage } from '../helpers';\r\nimport { LOADER_END, LOADER_START } from \"../loader/actions\";\r\n\r\nfunction* updateProfileSaga({ payload }) {\r\n  try {\r\n    yield put({ type: LOADER_START });\r\n    const user = readLocalStorage(\"user\");\r\n    if (!payload.gender) payload.gender = user.gender\r\n    const response = yield call(PutFormData, `user/update-user`, payload, {});\r\n    if (response && !response.error) {\r\n      yield put({ type: UPDATE_PROFILE_SUCCESS, payload: response });\r\n      yield put({ type: LOADER_END });\r\n    } else {\r\n      yield put({ type: UPDATE_PROFILE_FAILURE, payload: response });\r\n      yield put({ type: LOADER_END });\r\n    }\r\n  } catch (error) {\r\n    yield put({ type: UPDATE_PROFILE_FAILURE, payload: error });\r\n    yield put({ type: LOADER_END });\r\n  }\r\n  yield put(getProfileRequest({}));\r\n  yield put({ type: LOADER_END });\r\n}\r\n\r\nfunction* getPostsSaga({ payload }) {\r\n  try {\r\n    yield put({ type: LOADER_START });\r\n    const user = readLocalStorage(\"user\");\r\n    const response = yield call(Get, `post/get-user-posts?username=${user.username}`, payload, {});\r\n    if (response && !response.error) {\r\n      yield put({ type: GET_PROFILE_POSTS_SUCCESS, payload: response });\r\n      yield put({ type: LOADER_END });\r\n    } else {\r\n      yield put({ type: GET_PROFILE_POSTS_FAILURE, payload: response });\r\n      yield put({ type: LOADER_END });\r\n    }\r\n  } catch (error) {\r\n    yield put({ type: GET_PROFILE_POSTS_FAILURE, payload: error });\r\n    yield put({ type: LOADER_END });\r\n  }\r\n  yield put({ type: LOADER_END });\r\n}\r\n\r\nfunction* getProfileSaga({ payload }) {\r\n  try {\r\n    yield put({ type: LOADER_START });\r\n    const user = readLocalStorage(\"user\");\r\n    const response = yield call(Get, `user/get?username=${user.username}`, {}, {});\r\n    if (response && !response.error) {\r\n      yield put({ type: GET_PROFILE_SUCCESS, payload: response });\r\n      yield put({ type: LOADER_END });\r\n    } else {\r\n      yield put({ type: GET_PROFILE_FAILURE, payload: response });\r\n      yield put({ type: LOADER_END });\r\n    }\r\n  } catch (error) {\r\n    yield put({ type: GET_PROFILE_FAILURE, payload: error });\r\n    yield put({ type: LOADER_END });\r\n  }\r\n  yield put({ type: LOADER_END });\r\n}\r\n\r\n\r\nexport default function* Saga() {\r\n  yield takeLatest(UPDATE_PROFILE_REQUEST, updateProfileSaga);\r\n  yield takeLatest(GET_PROFILE_POSTS_REQUEST, getPostsSaga);\r\n  yield takeLatest(GET_PROFILE_REQUEST, getProfileSaga);\r\n}"]},"metadata":{},"sourceType":"module"}