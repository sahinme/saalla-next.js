{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { fromPairs } from 'lodash/fp';\nimport { parseCookies } from 'nookies';\nvar localStorage = global.localStorage && global.localStorage.removeItem ? global.localStorage : function () {\n  var store = {};\n  return {\n    getItem: function getItem(key) {\n      return store[key] || null;\n    },\n    setItem: function setItem(key, value) {\n      store[key] = value.toString();\n    },\n    clear: function clear() {\n      store = {};\n    },\n    removeItem: function removeItem(key) {\n      store = Object.keys(store).filter(function (k) {\n        return key !== k;\n      }).reduce(function (accumulator, currentItem) {\n        accumulator[currentItem] = store[currentItem];\n        return accumulator;\n      }, {});\n    }\n  };\n}();\nexport var readLocalStorage = function readLocalStorage(key) {\n  if (Array.isArray(key)) {\n    return fromPairs(key.map(function (k) {\n      return [k, localStorage.getItem(k) && JSON.parse(localStorage.getItem(k))];\n    }));\n  }\n\n  return localStorage.getItem(key) && JSON.parse(localStorage.getItem(key));\n};\nexport var loadState = function loadState(key) {\n  try {\n    var serializedState = localStorage.getItem(key);\n\n    if (serializedState === null) {\n      return undefined;\n    }\n\n    return JSON.parse(serializedState);\n  } catch (err) {\n    return undefined;\n  }\n};\nexport var isLoggedWithCookies = function isLoggedWithCookies(ctx) {\n  var cookies = parseCookies(ctx);\n  return cookies && cookies.token && cookies.user;\n};\nexport var writeLocalStorage = function writeLocalStorage(key, value) {\n  var keys = typeof key === 'object' ? key : _defineProperty({}, key, value);\n  Object.entries(keys).map(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        k = _ref3[0],\n        val = _ref3[1];\n\n    return localStorage.setItem(k, JSON.stringify(val));\n  });\n  return keys;\n};\nexport var removeLocalStorage = function removeLocalStorage(key) {\n  var keys = Array.isArray(key) ? key : [key];\n  keys.forEach(function (k) {\n    return localStorage.removeItem(k);\n  });\n  return keys;\n};\nexport var clearLocalStorage = function clearLocalStorage() {\n  localStorage.clear();\n};\nexport var getSearchParams = function getSearchParams(params) {\n  return Object.keys(params).map(function (key) {\n    if (typeof params[key] !== 'undefined') {\n      return \"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(params[key]) ? encodeURIComponent(params[key]) : '');\n    }\n  }).join('&');\n};\nexport var generateString = function generateString() {\n  var name = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n  return name;\n};\nexport var isLogged = function isLogged() {\n  var token = readLocalStorage(\"token\");\n  var user = readLocalStorage(\"user\");\n  return token && user;\n};\nexport var getParameterByName = function getParameterByName(name, url) {\n  if (!url) url = window.location.href;\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n      results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n};\nexport var htmlToText = function htmlToText(html) {\n  var temp = document.createElement(\"div\");\n  temp.innerHTML = html;\n  return temp.textContent || temp.innerText || \"\";\n};","map":{"version":3,"sources":["D:/repos/saalla-next.js/lib/helpers.js"],"names":["fromPairs","parseCookies","localStorage","global","removeItem","store","getItem","key","setItem","value","toString","clear","Object","keys","filter","k","reduce","accumulator","currentItem","readLocalStorage","Array","isArray","map","JSON","parse","loadState","serializedState","undefined","err","isLoggedWithCookies","ctx","cookies","token","user","writeLocalStorage","entries","val","stringify","removeLocalStorage","forEach","clearLocalStorage","getSearchParams","params","encodeURIComponent","join","generateString","name","Math","random","substring","isLogged","getParameterByName","url","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","htmlToText","html","temp","document","createElement","innerHTML","textContent","innerText"],"mappings":"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","sourcesContent":["import { fromPairs } from 'lodash/fp';\r\nimport { parseCookies } from 'nookies';\r\n\r\nconst localStorage = global.localStorage && global.localStorage.removeItem\r\n    ? global.localStorage\r\n    : (function () {\r\n        let store = {};\r\n        return {\r\n            getItem(key) {\r\n                return store[key] || null;\r\n            },\r\n            setItem(key, value) {\r\n                store[key] = value.toString();\r\n            },\r\n            clear() {\r\n                store = {};\r\n            },\r\n            removeItem(key) {\r\n                store = Object.keys(store)\r\n                    .filter(k => key !== k)\r\n                    .reduce((accumulator, currentItem) => {\r\n                        accumulator[currentItem] = store[currentItem];\r\n                        return accumulator;\r\n                    }, {});\r\n            },\r\n        };\r\n    }());\r\n\r\nexport const readLocalStorage = (key) => {\r\n    if (Array.isArray(key)) {\r\n        return fromPairs(key.map(k => [k, localStorage.getItem(k) && JSON.parse(localStorage.getItem(k))]));\r\n    }\r\n    return localStorage.getItem(key) && JSON.parse(localStorage.getItem(key));\r\n};\r\n\r\nexport const loadState = (key) => {\r\n    try {\r\n        const serializedState = localStorage.getItem(key);\r\n        if (serializedState === null) {\r\n            return undefined;\r\n        }\r\n        return JSON.parse(serializedState);\r\n    } catch (err) {\r\n        return undefined;\r\n    }\r\n};\r\n\r\n\r\nexport const isLoggedWithCookies = (ctx) => {\r\n    const cookies = parseCookies(ctx)\r\n    return cookies && cookies.token && cookies.user;\r\n}\r\n\r\n\r\nexport const writeLocalStorage = (key, value) => {\r\n    const keys = typeof key === 'object' ? key : { [key]: value };\r\n    Object.entries(keys).map(([k, val]) => localStorage.setItem(k, JSON.stringify(val)));\r\n    return keys;\r\n};\r\n\r\nexport const removeLocalStorage = (key) => {\r\n    const keys = Array.isArray(key) ? key : [key];\r\n    keys.forEach(k => localStorage.removeItem(k));\r\n    return keys;\r\n};\r\n\r\nexport const clearLocalStorage = () => {\r\n    localStorage.clear();\r\n};\r\n\r\nexport const getSearchParams = params => Object.keys(params).map((key) => {\r\n    if (typeof (params[key]) !== 'undefined') {\r\n        return `${encodeURIComponent(key)}=${encodeURIComponent(params[key]) ? encodeURIComponent(params[key]) : ''}`;\r\n    }\r\n}).join('&');\r\n\r\nexport const generateString = () => {\r\n    const name = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\r\n    return name;\r\n}\r\n\r\nexport const isLogged = () => {\r\n    const token = readLocalStorage(\"token\");\r\n    const user = readLocalStorage(\"user\");\r\n    return (token && user);\r\n}\r\n\r\nexport const getParameterByName = (name, url) => {\r\n    if (!url) url = window.location.href;\r\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n    var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\r\n        results = regex.exec(url);\r\n    if (!results) return null;\r\n    if (!results[2]) return '';\r\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n}\r\n\r\nexport const htmlToText = (html) => {\r\n    var temp = document.createElement(\"div\");\r\n    temp.innerHTML = html;\r\n    return temp.textContent || temp.innerText || \"\";\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}