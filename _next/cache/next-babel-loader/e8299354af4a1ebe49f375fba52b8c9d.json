{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\repos\\\\saalla-next.js\\\\components\\\\Layout\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport Head from \"next/head\";\nimport { Row, Col, Container } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { getPopularCommnityListRequest } from \"../../lib/community/actions\";\nimport { getHomePostsRequest, getUnauthorizedPostsRequest } from \"../../lib/home/actions\";\nimport { votePostRequest } from \"../../lib/posts/actions\";\nimport Loader from \"../Loader\";\nimport { clearStoreRequest } from \"../../lib/commonActions\";\nimport { Helmet } from \"react-helmet\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport SocialCard from \"../SocialCard\";\nimport PopularTags from \"../PopularTags\";\nimport CreatePostTab from \"../CreatePostTab\";\nimport CustomizedSnackbars from \"../Snackbar\";\nimport { readLocalStorage } from \"../../lib/helpers\";\nimport { parseCookies } from \"nookies\";\n\nfunction Home(props) {\n  _s();\n\n  var _this = this,\n      _ref;\n\n  var _useState = useState(1),\n      pageNumber = _useState[0],\n      setNumber = _useState[1];\n\n  var _React$useState = React.useState({\n    data: {\n      token: null,\n      user: null\n    },\n    error: null\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      auth = _React$useState2[0],\n      setAuth = _React$useState2[1];\n\n  useEffect(function () {\n    var user = readLocalStorage(\"user\");\n    var token = readLocalStorage(\"token\");\n\n    if (user && token) {\n      var payload = {\n        data: {\n          user: user,\n          token: token\n        },\n        error: null\n      };\n      setAuth(payload);\n    }\n\n    var getHomePosts = props.getHomePosts,\n        getUnauthorizedPosts = props.getUnauthorizedPosts;\n\n    if (token) {\n      getHomePosts({\n        pageNumber: 1,\n        pageSize: 6,\n        loderStart: true\n      });\n    } else {\n      getUnauthorizedPosts({\n        pageNumber: 1,\n        pageSize: 6,\n        loderStart: true\n      });\n    }\n\n    return function () {\n      props.clearStore(\"home_posts\");\n    };\n  }, []);\n\n  var onVote = function onVote(values) {\n    var votePost = props.votePost;\n\n    var payload = _objectSpread(_objectSpread({}, values), {}, {\n      pageSize: 6,\n      isVoted: true\n    });\n\n    votePost(payload);\n  };\n\n  var fetchMoreData = function fetchMoreData() {\n    var newNumber = pageNumber + 1;\n    var getUnauthorizedPosts = props.getUnauthorizedPosts,\n        getHomePosts = props.getHomePosts;\n    auth.token ? getHomePosts({\n      pageNumber: newNumber,\n      pageSize: 6,\n      loderStart: false,\n      token: readLocalStorage(\"token\")\n    }) : getUnauthorizedPosts({\n      pageNumber: newNumber,\n      pageSize: 6,\n      loderStart: false\n    });\n    setNumber(newNumber);\n  };\n\n  var home = props.home,\n      userCommunities = props.userCommunities;\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Hep Beraber Sall\\u0131yoruz | Saalla\"), __jsx(\"meta\", {\n    name: \"description\",\n    content: \"Saalla, insanlar\\u0131n ilgi alanlar\\u0131na g\\xF6re sallayabildikleri topluluk a\\u011F\\u0131d\\u0131r. \\u0130lgilendi\\u011Finiz topluluklar\\u0131 bulun ve \\xE7evrimi\\xE7i bir toplulu\\u011Fun par\\xE7as\\u0131 olun!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    charSet: \"utf-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"initial-scale=1.0, width=device-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  })), __jsx(Container, {\n    style: {\n      marginTop: \"6rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, __jsx(Col, {\n    xs: 12,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, __jsx(CreatePostTab, {\n    user: auth.user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }))), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, __jsx(Col, {\n    style: {\n      paddingBottom: \"4px\",\n      paddingTop: \"20px\"\n    },\n    xs: 12,\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, \"Populer Sallamalar\"))), __jsx(Row, {\n    style: {\n      flexWrap: \"wrap-reverse\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, __jsx(Col, {\n    style: {\n      paddingBottom: \"10px\",\n      paddingTop: \"20px\"\n    },\n    xs: 12,\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, userCommunities && userCommunities.length <= 0 && __jsx(Link, {\n    href: \"/kesfet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, __jsx(CustomizedSnackbars, {\n    message: \"Topluluklari Kesfet - Hi\\xE7bir toplulu\\u011Fa \\xFCye de\\u011Filsin \\u015Eimdi tam zaman\\u0131\",\n    type: \"warning\",\n    style: {\n      cursor: \"pointer\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  })), __jsx(InfiniteScroll, {\n    dataLength: home && home.results && home.results.length,\n    next: fetchMoreData,\n    hasMore: home && home.hasNext,\n    loader: __jsx(Loader, {\n      overlay: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 23\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, home.results.map(function (item) {\n    return __jsx(SocialCard, {\n      key: item.id,\n      pSlug: item.slug,\n      id: item.id,\n      img: item.mediaContentPath,\n      createdDate: item.createdDateTime,\n      content: item.content,\n      contentType: item.contentType,\n      community: item.community,\n      pageNumber: item.pageNumber,\n      comments: item.comments,\n      user: item.user,\n      linkUrl: item.linkUrl,\n      voteCount: item.voteCount,\n      userPostVote: item.userPostVote,\n      onVote: onVote,\n      profilePosts: false,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    });\n  }))), __jsx(Col, {\n    style: {\n      paddingBottom: \"10px\"\n    },\n    xs: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    style: (_ref = {\n      position: \"-webkit-sticky\"\n    }, _defineProperty(_ref, \"position\", \"sticky\"), _defineProperty(_ref, \"top\", 0), _ref),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, __jsx(PopularTags, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }))))));\n}\n\n_s(Home, \"BH5pUtbwLELVUSotz8f/CsoGHZ8=\");\n\n_c = Home;\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getPopularsCommunity: function getPopularsCommunity() {\n      return dispatch(getPopularCommnityListRequest({}));\n    },\n    clearStore: function clearStore(name) {\n      return dispatch(clearStoreRequest(name));\n    },\n    getHomePosts: function getHomePosts(payload) {\n      return dispatch(getHomePostsRequest(payload));\n    },\n    getUnauthorizedPosts: function getUnauthorizedPosts(payload) {\n      return dispatch(getUnauthorizedPostsRequest(payload));\n    },\n    votePost: function votePost(payload) {\n      return dispatch(votePostRequest(payload));\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    home: state.home.data,\n    userCommunities: state.userCommunities.data\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/repos/saalla-next.js/components/Layout/index.jsx"],"names":["React","useEffect","useState","Link","Head","Row","Col","Container","connect","getPopularCommnityListRequest","getHomePostsRequest","getUnauthorizedPostsRequest","votePostRequest","Loader","clearStoreRequest","Helmet","InfiniteScroll","SocialCard","PopularTags","CreatePostTab","CustomizedSnackbars","readLocalStorage","parseCookies","Home","props","pageNumber","setNumber","data","token","user","error","auth","setAuth","payload","getHomePosts","getUnauthorizedPosts","pageSize","loderStart","clearStore","onVote","values","votePost","isVoted","fetchMoreData","newNumber","home","userCommunities","marginTop","paddingBottom","paddingTop","flexWrap","length","cursor","results","hasNext","map","item","id","slug","mediaContentPath","createdDateTime","content","contentType","community","comments","linkUrl","voteCount","userPostVote","position","mapDispatchToProps","dispatch","getPopularsCommunity","name","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Head from \"next/head\";\r\nimport { Row, Col, Container } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { getPopularCommnityListRequest } from \"../../lib/community/actions\";\r\nimport {\r\n  getHomePostsRequest,\r\n  getUnauthorizedPostsRequest,\r\n} from \"../../lib/home/actions\";\r\nimport { votePostRequest } from \"../../lib/posts/actions\";\r\nimport Loader from \"../Loader\";\r\nimport { clearStoreRequest } from \"../../lib/commonActions\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport SocialCard from \"../SocialCard\";\r\nimport PopularTags from \"../PopularTags\";\r\nimport CreatePostTab from \"../CreatePostTab\";\r\nimport CustomizedSnackbars from \"../Snackbar\";\r\nimport { readLocalStorage } from \"../../lib/helpers\";\r\nimport { parseCookies } from \"nookies\";\r\n\r\nfunction Home(props) {\r\n  const [pageNumber, setNumber] = useState(1);\r\n  const [auth, setAuth] = React.useState({\r\n    data: { token: null, user: null },\r\n    error: null,\r\n  });\r\n  useEffect(() => {\r\n    const user = readLocalStorage(\"user\");\r\n    const token = readLocalStorage(\"token\");\r\n    if (user && token) {\r\n      const payload = { data: { user, token }, error: null };\r\n      setAuth(payload);\r\n    }\r\n    const { getHomePosts, getUnauthorizedPosts } = props;\r\n    if (token) {\r\n      getHomePosts({ pageNumber: 1, pageSize: 6, loderStart: true });\r\n    } else {\r\n      getUnauthorizedPosts({ pageNumber: 1, pageSize: 6, loderStart: true });\r\n    }\r\n    return () => {\r\n      props.clearStore(\"home_posts\");\r\n    };\r\n  }, []);\r\n\r\n  const onVote = (values) => {\r\n    const { votePost } = props;\r\n    const payload = { ...values, pageSize: 6, isVoted: true };\r\n    votePost(payload);\r\n  };\r\n\r\n  const fetchMoreData = () => {\r\n    const newNumber = pageNumber + 1;\r\n    const { getUnauthorizedPosts, getHomePosts } = props;\r\n    auth.token\r\n      ? getHomePosts({\r\n          pageNumber: newNumber,\r\n          pageSize: 6,\r\n          loderStart: false,\r\n          token: readLocalStorage(\"token\"),\r\n        })\r\n      : getUnauthorizedPosts({\r\n          pageNumber: newNumber,\r\n          pageSize: 6,\r\n          loderStart: false,\r\n        });\r\n    setNumber(newNumber);\r\n  };\r\n\r\n  const { home, userCommunities } = props;\r\n  return (\r\n    <div>\r\n      <Head>\r\n        <title>Hep Beraber Sallıyoruz | Saalla</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Saalla, insanların ilgi alanlarına göre sallayabildikleri topluluk ağıdır. İlgilendiğiniz toplulukları bulun ve çevrimiçi bir topluluğun parçası olun!\"\r\n        />\r\n        <meta charSet=\"utf-8\" />\r\n        <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" />\r\n      </Head>\r\n      <Container style={{ marginTop: \"6rem\" }}>\r\n        <Row>\r\n          <Col xs={12} md={12}>\r\n            <CreatePostTab user={auth.user} />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col\r\n            style={{\r\n              paddingBottom: \"4px\",\r\n              paddingTop: \"20px\",\r\n            }}\r\n            xs={12}\r\n            md={8}\r\n          >\r\n            <b>Populer Sallamalar</b>\r\n          </Col>\r\n        </Row>\r\n        <Row style={{ flexWrap: \"wrap-reverse\" }}>\r\n          <Col\r\n            style={{\r\n              paddingBottom: \"10px\",\r\n              paddingTop: \"20px\",\r\n            }}\r\n            xs={12}\r\n            md={8}\r\n          >\r\n            {userCommunities && userCommunities.length <= 0 && (\r\n              <Link href=\"/kesfet\">\r\n                <CustomizedSnackbars\r\n                  message=\"Topluluklari Kesfet - Hiçbir topluluğa üye değilsin Şimdi tam zamanı\"\r\n                  type=\"warning\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                />\r\n              </Link>\r\n            )}\r\n            <InfiniteScroll\r\n              dataLength={home && home.results && home.results.length}\r\n              next={fetchMoreData}\r\n              hasMore={home && home.hasNext}\r\n              loader={<Loader overlay={false} />}\r\n            >\r\n              {home.results.map((item) => (\r\n                <SocialCard\r\n                  key={item.id}\r\n                  pSlug={item.slug}\r\n                  id={item.id}\r\n                  img={item.mediaContentPath}\r\n                  createdDate={item.createdDateTime}\r\n                  content={item.content}\r\n                  contentType={item.contentType}\r\n                  community={item.community}\r\n                  pageNumber={item.pageNumber}\r\n                  comments={item.comments}\r\n                  user={item.user}\r\n                  linkUrl={item.linkUrl}\r\n                  voteCount={item.voteCount}\r\n                  userPostVote={item.userPostVote}\r\n                  onVote={onVote}\r\n                  profilePosts={false}\r\n                />\r\n              ))}\r\n            </InfiniteScroll>\r\n          </Col>\r\n          <Col style={{ paddingBottom: \"10px\" }} xs={12} md={4}>\r\n            <div\r\n              style={{ position: \"-webkit-sticky\", position: \"sticky\", top: 0 }}\r\n            >\r\n              <PopularTags />\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getPopularsCommunity: () => dispatch(getPopularCommnityListRequest({})),\r\n  clearStore: (name) => dispatch(clearStoreRequest(name)),\r\n  getHomePosts: (payload) => dispatch(getHomePostsRequest(payload)),\r\n  getUnauthorizedPosts: (payload) =>\r\n    dispatch(getUnauthorizedPostsRequest(payload)),\r\n  votePost: (payload) => dispatch(votePostRequest(payload)),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  home: state.home.data,\r\n  userCommunities: state.userCommunities.data,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n"]},"metadata":{},"sourceType":"module"}