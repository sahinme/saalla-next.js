{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(getHomePostsSaga),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(getUnauthorizedPostsSaga),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(searchSaga),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(Saga);\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Get, Post } from \"../services\";\nimport { call, put, takeLatest } from \"redux-saga/effects\";\nimport { GET_HOME_POSTS_REQUEST, GET_HOME_POSTS_FAILURE, GET_HOME_POSTS_SUCCESS, GET_UNAUTHORIZED_POSTS_FAILURE, GET_UNAUTHORIZED_POSTS_REQUEST, GET_UNAUTHORIZED_POSTS_SUCCESS, SEARCH_FAILURE, SEARCH_REQUEST, SEARCH_SUCCESS } from './actions';\nimport { LOADER_START, LOADER_END } from \"../loader/actions\";\n\nfunction getHomePostsSaga(_ref) {\n  var payload, response;\n  return _regeneratorRuntime.wrap(function getHomePostsSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          payload = _ref.payload;\n          _context.prev = 1;\n\n          if (!payload.loaderStart) {\n            _context.next = 5;\n            break;\n          }\n\n          _context.next = 5;\n          return put({\n            type: LOADER_START\n          });\n\n        case 5:\n          _context.next = 7;\n          return call(Get, \"post/paged-home-posts?PageNumber=\".concat(payload.pageNumber, \"&PageSize=\").concat(payload.pageSize), {}, payload.token, false);\n\n        case 7:\n          response = _context.sent;\n          console.log(response);\n\n          if (!(response && !response.error)) {\n            _context.next = 16;\n            break;\n          }\n\n          _context.next = 12;\n          return put({\n            type: GET_HOME_POSTS_SUCCESS,\n            payload: _objectSpread(_objectSpread({}, response), {}, {\n              isVoted: payload.isVoted\n            })\n          });\n\n        case 12:\n          _context.next = 14;\n          return put({\n            type: LOADER_END\n          });\n\n        case 14:\n          _context.next = 20;\n          break;\n\n        case 16:\n          _context.next = 18;\n          return put({\n            type: GET_HOME_POSTS_FAILURE,\n            payload: response\n          });\n\n        case 18:\n          _context.next = 20;\n          return put({\n            type: LOADER_END\n          });\n\n        case 20:\n          _context.next = 28;\n          break;\n\n        case 22:\n          _context.prev = 22;\n          _context.t0 = _context[\"catch\"](1);\n          _context.next = 26;\n          return put({\n            type: GET_HOME_POSTS_FAILURE,\n            payload: _context.t0\n          });\n\n        case 26:\n          _context.next = 28;\n          return put({\n            type: LOADER_END\n          });\n\n        case 28:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[1, 22]]);\n}\n\nfunction getUnauthorizedPostsSaga(_ref2) {\n  var payload, response;\n  return _regeneratorRuntime.wrap(function getUnauthorizedPostsSaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          payload = _ref2.payload;\n          _context2.prev = 1;\n          _context2.next = 4;\n          return put({\n            type: payload.loderStart ? LOADER_START : LOADER_END\n          });\n\n        case 4:\n          _context2.next = 6;\n          return call(Get, \"post/paged-unauthorized-home-post?PageNumber=\".concat(payload.pageNumber, \"&PageSize=\").concat(payload.pageSize), {}, {}, false);\n\n        case 6:\n          response = _context2.sent;\n\n          if (!(response && !response.error)) {\n            _context2.next = 14;\n            break;\n          }\n\n          _context2.next = 10;\n          return put({\n            type: GET_UNAUTHORIZED_POSTS_SUCCESS,\n            payload: response\n          });\n\n        case 10:\n          _context2.next = 12;\n          return put({\n            type: LOADER_END\n          });\n\n        case 12:\n          _context2.next = 18;\n          break;\n\n        case 14:\n          _context2.next = 16;\n          return put({\n            type: GET_UNAUTHORIZED_POSTS_FAILURE,\n            payload: response\n          });\n\n        case 16:\n          _context2.next = 18;\n          return put({\n            type: LOADER_END\n          });\n\n        case 18:\n          _context2.next = 26;\n          break;\n\n        case 20:\n          _context2.prev = 20;\n          _context2.t0 = _context2[\"catch\"](1);\n          _context2.next = 24;\n          return put({\n            type: GET_UNAUTHORIZED_POSTS_FAILURE,\n            payload: _context2.t0\n          });\n\n        case 24:\n          _context2.next = 26;\n          return put({\n            type: LOADER_END\n          });\n\n        case 26:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[1, 20]]);\n}\n\nfunction searchSaga(_ref3) {\n  var payload, response;\n  return _regeneratorRuntime.wrap(function searchSaga$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          payload = _ref3.payload;\n          _context3.prev = 1;\n          _context3.next = 4;\n          return put({\n            type: LOADER_START\n          });\n\n        case 4:\n          _context3.next = 6;\n          return call(Get, \"community/search?text=\".concat(payload.text), {}, {}, false);\n\n        case 6:\n          response = _context3.sent;\n\n          if (!(response && !response.error)) {\n            _context3.next = 14;\n            break;\n          }\n\n          _context3.next = 10;\n          return put({\n            type: SEARCH_SUCCESS,\n            payload: response\n          });\n\n        case 10:\n          _context3.next = 12;\n          return put({\n            type: LOADER_END\n          });\n\n        case 12:\n          _context3.next = 18;\n          break;\n\n        case 14:\n          _context3.next = 16;\n          return put({\n            type: SEARCH_FAILURE,\n            payload: response\n          });\n\n        case 16:\n          _context3.next = 18;\n          return put({\n            type: LOADER_END\n          });\n\n        case 18:\n          _context3.next = 26;\n          break;\n\n        case 20:\n          _context3.prev = 20;\n          _context3.t0 = _context3[\"catch\"](1);\n          _context3.next = 24;\n          return put({\n            type: SEARCH_FAILURE,\n            payload: _context3.t0\n          });\n\n        case 24:\n          _context3.next = 26;\n          return put({\n            type: LOADER_END\n          });\n\n        case 26:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[1, 20]]);\n}\n\nexport default function Saga() {\n  return _regeneratorRuntime.wrap(function Saga$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeLatest(GET_HOME_POSTS_REQUEST, getHomePostsSaga);\n\n        case 2:\n          _context4.next = 4;\n          return takeLatest(GET_UNAUTHORIZED_POSTS_REQUEST, getUnauthorizedPostsSaga);\n\n        case 4:\n          _context4.next = 6;\n          return takeLatest(SEARCH_REQUEST, searchSaga);\n\n        case 6:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n_c = Saga;\n\nvar _c;\n\n$RefreshReg$(_c, \"Saga\");","map":{"version":3,"sources":["D:/repos/saalla-next.js/lib/home/sagas.js"],"names":["getHomePostsSaga","getUnauthorizedPostsSaga","searchSaga","Saga","Get","Post","call","put","takeLatest","GET_HOME_POSTS_REQUEST","GET_HOME_POSTS_FAILURE","GET_HOME_POSTS_SUCCESS","GET_UNAUTHORIZED_POSTS_FAILURE","GET_UNAUTHORIZED_POSTS_REQUEST","GET_UNAUTHORIZED_POSTS_SUCCESS","SEARCH_FAILURE","SEARCH_REQUEST","SEARCH_SUCCESS","LOADER_START","LOADER_END","payload","loaderStart","type","pageNumber","pageSize","token","response","console","log","error","isVoted","loderStart","text"],"mappings":";;;oDASUA,gB;qDAqBAC,wB;qDAiBAC,U;qDAmBeC,I;;;;;;AAlEzB,SAASC,GAAT,EAAcC,IAAd,QAA0B,aAA1B;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,UAApB,QAAsC,oBAAtC;AACA,SACEC,sBADF,EAC0BC,sBAD1B,EACkDC,sBADlD,EAEEC,8BAFF,EAEkCC,8BAFlC,EAEkEC,8BAFlE,EAGEC,cAHF,EAGkBC,cAHlB,EAGkCC,cAHlC,QAIO,WAJP;AAKA,SAASC,YAAT,EAAuBC,UAAvB,QAAyC,mBAAzC;;AAEA,SAAUnB,gBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6BoB,UAAAA,OAA7B,QAA6BA,OAA7B;AAAA;;AAAA,eAEQA,OAAO,CAACC,WAFhB;AAAA;AAAA;AAAA;;AAAA;AAGM,iBAAMd,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEJ;AAAR,WAAD,CAAT;;AAHN;AAAA;AAMqB,iBAAMZ,IAAI,CAACF,GAAD,6CAA0CgB,OAAO,CAACG,UAAlD,uBAAyEH,OAAO,CAACI,QAAjF,GAA6F,EAA7F,EAAiGJ,OAAO,CAACK,KAAzG,EAAgH,KAAhH,CAAV;;AANrB;AAMUC,UAAAA,QANV;AAOIC,UAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AAPJ,gBAQQA,QAAQ,IAAI,CAACA,QAAQ,CAACG,KAR9B;AAAA;AAAA;AAAA;;AAAA;AASM,iBAAMtB,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEX,sBAAR;AAAgCS,YAAAA,OAAO,kCAAOM,QAAP;AAAiBI,cAAAA,OAAO,EAAEV,OAAO,CAACU;AAAlC;AAAvC,WAAD,CAAT;;AATN;AAAA;AAUM,iBAAMvB,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAVN;AAAA;AAAA;;AAAA;AAAA;AAYM,iBAAMZ,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEZ,sBAAR;AAAgCU,YAAAA,OAAO,EAAEM;AAAzC,WAAD,CAAT;;AAZN;AAAA;AAaM,iBAAMnB,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAbN;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAgBI,iBAAMZ,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEZ,sBAAR;AAAgCU,YAAAA,OAAO;AAAvC,WAAD,CAAT;;AAhBJ;AAAA;AAiBI,iBAAMb,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAqBA,SAAUlB,wBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqCmB,UAAAA,OAArC,SAAqCA,OAArC;AAAA;AAAA;AAEI,iBAAMb,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEF,OAAO,CAACW,UAAR,GAAqBb,YAArB,GAAoCC;AAA5C,WAAD,CAAT;;AAFJ;AAAA;AAGqB,iBAAMb,IAAI,CAACF,GAAD,yDAAsDgB,OAAO,CAACG,UAA9D,uBAAqFH,OAAO,CAACI,QAA7F,GAAyG,EAAzG,EAA6G,EAA7G,EAAiH,KAAjH,CAAV;;AAHrB;AAGUE,UAAAA,QAHV;;AAAA,gBAIQA,QAAQ,IAAI,CAACA,QAAQ,CAACG,KAJ9B;AAAA;AAAA;AAAA;;AAAA;AAKM,iBAAMtB,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAER,8BAAR;AAAwCM,YAAAA,OAAO,EAAEM;AAAjD,WAAD,CAAT;;AALN;AAAA;AAMM,iBAAMnB,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AANN;AAAA;AAAA;;AAAA;AAAA;AAQM,iBAAMZ,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEV,8BAAR;AAAwCQ,YAAAA,OAAO,EAAEM;AAAjD,WAAD,CAAT;;AARN;AAAA;AASM,iBAAMnB,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AATN;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAYI,iBAAMZ,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEV,8BAAR;AAAwCQ,YAAAA,OAAO;AAA/C,WAAD,CAAT;;AAZJ;AAAA;AAaI,iBAAMb,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAbJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAiBA,SAAUjB,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuBkB,UAAAA,OAAvB,SAAuBA,OAAvB;AAAA;AAAA;AAEI,iBAAMb,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEJ;AAAR,WAAD,CAAT;;AAFJ;AAAA;AAGqB,iBAAMZ,IAAI,CAACF,GAAD,kCAA+BgB,OAAO,CAACY,IAAvC,GAA+C,EAA/C,EAAmD,EAAnD,EAAuD,KAAvD,CAAV;;AAHrB;AAGUN,UAAAA,QAHV;;AAAA,gBAIQA,QAAQ,IAAI,CAACA,QAAQ,CAACG,KAJ9B;AAAA;AAAA;AAAA;;AAAA;AAKM,iBAAMtB,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEL,cAAR;AAAwBG,YAAAA,OAAO,EAAEM;AAAjC,WAAD,CAAT;;AALN;AAAA;AAMM,iBAAMnB,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AANN;AAAA;AAAA;;AAAA;AAAA;AAQM,iBAAMZ,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEP,cAAR;AAAwBK,YAAAA,OAAO,EAAEM;AAAjC,WAAD,CAAT;;AARN;AAAA;AASM,iBAAMnB,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AATN;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAYI,iBAAMZ,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEP,cAAR;AAAwBK,YAAAA,OAAO;AAA/B,WAAD,CAAT;;AAZJ;AAAA;AAaI,iBAAMb,GAAG,CAAC;AAAEe,YAAAA,IAAI,EAAEH;AAAR,WAAD,CAAT;;AAbJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAmBA,eAAe,SAAUhB,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACb,iBAAMK,UAAU,CAACC,sBAAD,EAAyBT,gBAAzB,CAAhB;;AADa;AAAA;AAEb,iBAAMQ,UAAU,CAACK,8BAAD,EAAiCZ,wBAAjC,CAAhB;;AAFa;AAAA;AAGb,iBAAMO,UAAU,CAACQ,cAAD,EAAiBd,UAAjB,CAAhB;;AAHa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;KAAUC,I","sourcesContent":["import { Get, Post } from \"../services\";\r\nimport { call, put, takeLatest } from \"redux-saga/effects\";\r\nimport {\r\n  GET_HOME_POSTS_REQUEST, GET_HOME_POSTS_FAILURE, GET_HOME_POSTS_SUCCESS,\r\n  GET_UNAUTHORIZED_POSTS_FAILURE, GET_UNAUTHORIZED_POSTS_REQUEST, GET_UNAUTHORIZED_POSTS_SUCCESS,\r\n  SEARCH_FAILURE, SEARCH_REQUEST, SEARCH_SUCCESS\r\n} from './actions';\r\nimport { LOADER_START, LOADER_END } from \"../loader/actions\";\r\n\r\nfunction* getHomePostsSaga({ payload }) {\r\n  try {\r\n    if (payload.loaderStart) {\r\n      yield put({ type: LOADER_START });\r\n\r\n    }\r\n    const response = yield call(Get, `post/paged-home-posts?PageNumber=${payload.pageNumber}&PageSize=${payload.pageSize}`, {}, payload.token, false);\r\n    console.log(response);\r\n    if (response && !response.error) {\r\n      yield put({ type: GET_HOME_POSTS_SUCCESS, payload: { ...response, isVoted: payload.isVoted } });\r\n      yield put({ type: LOADER_END });\r\n    } else {\r\n      yield put({ type: GET_HOME_POSTS_FAILURE, payload: response });\r\n      yield put({ type: LOADER_END });\r\n    }\r\n  } catch (error) {\r\n    yield put({ type: GET_HOME_POSTS_FAILURE, payload: error });\r\n    yield put({ type: LOADER_END });\r\n  }\r\n}\r\n\r\nfunction* getUnauthorizedPostsSaga({ payload }) {\r\n  try {\r\n    yield put({ type: payload.loderStart ? LOADER_START : LOADER_END });\r\n    const response = yield call(Get, `post/paged-unauthorized-home-post?PageNumber=${payload.pageNumber}&PageSize=${payload.pageSize}`, {}, {}, false);\r\n    if (response && !response.error) {\r\n      yield put({ type: GET_UNAUTHORIZED_POSTS_SUCCESS, payload: response });\r\n      yield put({ type: LOADER_END });\r\n    } else {\r\n      yield put({ type: GET_UNAUTHORIZED_POSTS_FAILURE, payload: response });\r\n      yield put({ type: LOADER_END });\r\n    }\r\n  } catch (error) {\r\n    yield put({ type: GET_UNAUTHORIZED_POSTS_FAILURE, payload: error });\r\n    yield put({ type: LOADER_END });\r\n  }\r\n}\r\n\r\nfunction* searchSaga({ payload }) {\r\n  try {\r\n    yield put({ type: LOADER_START });\r\n    const response = yield call(Get, `community/search?text=${payload.text}`, {}, {}, false);\r\n    if (response && !response.error) {\r\n      yield put({ type: SEARCH_SUCCESS, payload: response });\r\n      yield put({ type: LOADER_END });\r\n    } else {\r\n      yield put({ type: SEARCH_FAILURE, payload: response });\r\n      yield put({ type: LOADER_END });\r\n    }\r\n  } catch (error) {\r\n    yield put({ type: SEARCH_FAILURE, payload: error });\r\n    yield put({ type: LOADER_END });\r\n\r\n  }\r\n}\r\n\r\n\r\nexport default function* Saga() {\r\n  yield takeLatest(GET_HOME_POSTS_REQUEST, getHomePostsSaga);\r\n  yield takeLatest(GET_UNAUTHORIZED_POSTS_REQUEST, getUnauthorizedPostsSaga);\r\n  yield takeLatest(SEARCH_REQUEST, searchSaga);\r\n}"]},"metadata":{},"sourceType":"module"}